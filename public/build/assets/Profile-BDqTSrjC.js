import{x,Q as V,b as U,T as B,c as C,w as l,o as n,a as r,u as e,G as m,f as o,t as a,l as p,m as S,k as j,d,n as u,e as _,i as f,D as h,p as q,A as L}from"./app-Baws5krQ.js";import{L as P}from"./main-DSaa3E_d.js";import{S as y}from"./sweetalert2.all-CQdR4Ran.js";import"./simplebar-vue.esm-DAj5T6fG.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"d-flex align-items-center justify-content-between mb-4"},z={class:"mb-0"},D={class:"mb-4 text-center"},N={class:"form-label fw-semibold d-block"},E={key:0,class:"mb-3"},G=["src"],I={key:1,class:"mb-3"},M=o("div",{class:"bg-light rounded-circle d-inline-flex align-items-center justify-content-center",style:{width:"150px",height:"150px"}},[o("i",{class:"ri-store-2-line",style:{"font-size":"3rem",color:"#999"}})],-1),R=[M],A={class:"text-muted d-block mt-2"},O={key:2,class:"invalid-feedback d-block"},Q={class:"mb-3"},F={for:"name",class:"form-label fw-semibold"},H={key:0,class:"invalid-feedback"},J={class:"mb-3"},K={for:"phone",class:"form-label fw-semibold"},W={key:0,class:"invalid-feedback"},X={class:"mb-3"},Y={for:"email",class:"form-label fw-semibold"},Z={key:0,class:"invalid-feedback"},$=o("hr",{class:"my-4"},null,-1),ee={class:"mb-3"},se={class:"mb-3"},oe={for:"password",class:"form-label fw-semibold"},te={class:"text-muted"},le={key:0,class:"invalid-feedback"},ae={class:"mb-3"},re={for:"password_confirmation",class:"form-label fw-semibold"},ie={key:0,class:"invalid-feedback"},ne={class:"mt-4"},de={key:0},ce={key:1},ye={__name:"Profile",setup(me){const{t}=x(),{store:b}=V().props,v=U(b.profile_photo_url||null),s=B({name:b.name||"",email:b.email||"",phone:b.phone||"",photo:null,password:"",password_confirmation:""}),k=w=>{const i=w.target.files[0];i&&(s.photo=i,v.value=URL.createObjectURL(i))},g=()=>{s.post(route("store.profile.update"),{onSuccess:()=>{y.fire({title:t("t-success"),text:t("t-profile-updated-successfully"),icon:"success",confirmButtonText:t("t-ok")}),s.reset("password","password_confirmation","photo")},onError:w=>{y.fire({title:t("t-error"),text:t("t-error-updating"),icon:"error",confirmButtonText:t("t-ok")})}})};return(w,i)=>(n(),C(P,null,{default:l(()=>[r(e(p),null,{default:l(()=>[r(e(m),{lg:"12"},{default:l(()=>[o("div",T,[o("h4",z,a(e(t)("t-profile")),1)])]),_:1})]),_:1}),r(e(p),null,{default:l(()=>[r(e(m),{lg:"12"},{default:l(()=>[r(e(S),{"no-body":""},{default:l(()=>[r(e(j),null,{default:l(()=>[o("form",{onSubmit:L(g,["prevent"])},[r(e(p),null,{default:l(()=>[r(e(m),{md:"12"},{default:l(()=>[o("div",D,[o("label",N,a(e(t)("t-profile-photo")),1),v.value?(n(),d("div",E,[o("img",{src:v.value,alt:"Profile Photo",class:"img-thumbnail rounded-circle",style:{width:"150px",height:"150px","object-fit":"cover"}},null,8,G)])):(n(),d("div",I,R)),o("input",{type:"file",id:"photo",onChange:k,accept:"image/*",class:u(["form-control",{"is-invalid":e(s).errors.photo}]),style:{"max-width":"400px",margin:"0 auto"}},null,34),o("small",A,a(e(t)("t-max-size")),1),e(s).errors.photo?(n(),d("div",O,a(e(s).errors.photo),1)):_("",!0)])]),_:1})]),_:1}),r(e(p),null,{default:l(()=>[r(e(m),{md:"6"},{default:l(()=>[o("div",Q,[o("label",F,a(e(t)("t-store-name-required")),1),f(o("input",{"onUpdate:modelValue":i[0]||(i[0]=c=>e(s).name=c),type:"text",class:u(["form-control",{"is-invalid":e(s).errors.name}]),id:"name",required:""},null,2),[[h,e(s).name]]),e(s).errors.name?(n(),d("div",H,a(e(s).errors.name),1)):_("",!0)])]),_:1}),r(e(m),{md:"6"},{default:l(()=>[o("div",J,[o("label",K,a(e(t)("t-phone-required")),1),f(o("input",{"onUpdate:modelValue":i[1]||(i[1]=c=>e(s).phone=c),type:"text",class:u(["form-control",{"is-invalid":e(s).errors.phone}]),id:"phone",required:""},null,2),[[h,e(s).phone]]),e(s).errors.phone?(n(),d("div",W,a(e(s).errors.phone),1)):_("",!0)])]),_:1})]),_:1}),r(e(p),null,{default:l(()=>[r(e(m),{md:"12"},{default:l(()=>[o("div",X,[o("label",Y,a(e(t)("t-email-address")),1),f(o("input",{"onUpdate:modelValue":i[2]||(i[2]=c=>e(s).email=c),type:"email",class:u(["form-control",{"is-invalid":e(s).errors.email}]),id:"email"},null,2),[[h,e(s).email]]),e(s).errors.email?(n(),d("div",Z,a(e(s).errors.email),1)):_("",!0)])]),_:1})]),_:1}),$,o("h5",ee,a(e(t)("t-change-password")),1),r(e(p),null,{default:l(()=>[r(e(m),{md:"6"},{default:l(()=>[o("div",se,[o("label",oe,a(e(t)("t-new-password")),1),f(o("input",{"onUpdate:modelValue":i[3]||(i[3]=c=>e(s).password=c),type:"password",class:u(["form-control",{"is-invalid":e(s).errors.password}]),id:"password"},null,2),[[h,e(s).password]]),o("small",te,a(e(t)("t-leave-blank-to-keep")),1),e(s).errors.password?(n(),d("div",le,a(e(s).errors.password),1)):_("",!0)])]),_:1}),r(e(m),{md:"6"},{default:l(()=>[o("div",ae,[o("label",re,a(e(t)("t-confirm-password")),1),f(o("input",{"onUpdate:modelValue":i[4]||(i[4]=c=>e(s).password_confirmation=c),type:"password",class:u(["form-control",{"is-invalid":e(s).errors.password_confirmation}]),id:"password_confirmation"},null,2),[[h,e(s).password_confirmation]]),e(s).errors.password_confirmation?(n(),d("div",ie,a(e(s).errors.password_confirmation),1)):_("",!0)])]),_:1})]),_:1}),o("div",ne,[r(e(q),{variant:"primary",type:"submit",disabled:e(s).processing,class:"px-4"},{default:l(()=>[e(s).processing?(n(),d("span",de,a(e(t)("t-saving")),1)):(n(),d("span",ce,a(e(t)("t-save-changes")),1))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ye as default};
