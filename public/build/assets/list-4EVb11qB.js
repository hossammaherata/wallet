import{A as z,Z as W,an as E,r as d,c as g,w as l,o as p,a,d as h,g as M,f as e,t as u,n as k,h as m,e as f,F as S,B as X,O as Y}from"./app-BpXjbCMW.js";import{F as J,a as Z,b as G,X as K}from"./vue-feather-icons.es-Ujj49B23.js";import{s as $}from"./default-Dwj_0Jwa.js";import{C as ee}from"./component-GBJ8QoXl.js";/* empty css                  */import{L as te}from"./main-B236rcsx.js";import{P as se}from"./page-header-DEyyf2_K.js";import{S as oe}from"./sweetalert2.all-BXeenfYg.js";import{a as ne}from"./msoeawqm-Cg0RqasO.js";import{a as ae}from"./gsqxdxog-DrHTRIvl.js";import{L as le}from"./lottie-D3vfe86N.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./simplebar-vue.esm-Ds3EkmLx.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";const ce={data(){return{config:{mode:"range",wrap:!0,altFormat:"M j, Y",altInput:!0,dateFormat:"d M, Y"},date:null,page:1,status:null,status1:null,invoiceListModal:!1,perPage:9,pages:[],value:null,searchQuery:null,invoiceWidgets:[{id:1,label:"Invoices Sent",percentage:"+89.24 %",percentageClass:"success",icon:"ri-arrow-right-up-line",counter:"559.25",badge:"2,258",caption:"Invoices sent",feaIcon:"file-text",decimals:1,prefix:"$",suffix:"k"},{id:2,label:"Paid Invoices",percentage:"+8.09 %",percentageClass:"danger",icon:"ri-arrow-right-down-line",counter:"409.66",badge:"1,958",caption:"Paid by clients",feaIcon:"check-square",decimals:2,prefix:"$",suffix:"k"},{id:3,label:"Unpaid Invoices",percentage:"+9.01 %",percentageClass:"danger",icon:"ri-arrow-right-down-line",counter:"136.98",badge:"338",caption:"Unpaid by clients",feaIcon:"clock",decimals:2,prefix:"$",suffix:"k"},{id:4,label:"Cancelled Invoices",percentage:"+7.55 %",percentageClass:"success",icon:"ri-arrow-right-up-line",counter:"84.2",badge:"502",caption:"Cancelled by clients",feaIcon:"x-octagon",decimals:1,prefix:"$",suffix:"k"}],invoiceList:[],defaultOptions:{animationData:ne},defaultOptions1:{animationData:ae},deleteModal:!1,event:{_id:""}}},components:{Layout:te,PageHeader:se,Multiselect:$,lottie:le,flatPickr:ee,FileTextIcon:J,CheckSquareIcon:Z,ClockIcon:G,XOctagonIcon:K,Link:z,Head:W},computed:{displayedPosts(){return this.paginate(this.invoiceList)},resultQuery(){if(this.searchQuery){const n=this.searchQuery.toLowerCase();return this.displayedPosts.filter(s=>s.invoiceId.toLowerCase().includes(n)||s.name.toLowerCase().includes(n)||s.email.toLowerCase().includes(n)||s.country.toLowerCase().includes(n)||s.date.toLowerCase().includes(n)||s.time.toLowerCase().includes(n)||s.amount.toString().toLowerCase().includes(n)||s.status.toLowerCase().includes(n))}else return this.status!==null?this.displayedPosts.filter(n=>n.status===this.status||this.status=="all"?n:null):this.displayedPosts}},watch:{invoiceList(){this.setPages()}},created(){this.setPages()},filters:{trimWords(n){return n.split(" ").splice(0,20).join(" ")+"..."}},methods:{SearchData(){this.status=this.status1},deleteMultiple(){let n=[];var s=document.getElementsByName("chk_child");if(s.forEach(function(o){if(o.checked==!0){var i=o.parentNode.parentNode.parentNode,v=i.querySelector(".id a").innerHTML;n.push(v)}}),typeof n<"u"&&n.length>0)if(confirm("Are you sure you want to delete this?")){var c=this.invoiceList;n.forEach(function(o){c=c.filter(function(i){return i.invoiceId!=o})}),this.invoiceList=c,document.getElementById("checkAll").checked=!1;var r=document.getElementsByName("chk_child");r.forEach(function(o){o.checked==!0&&(o.checked=!1,o.closest("tr").classList.remove("table-active"))})}else return!1;else oe.fire({title:"Please select at least one checkbox",confirmButtonClass:"btn btn-info",buttonsStyling:!1,showCloseButton:!0})},setPages(){let n=Math.ceil(this.invoiceList.length/this.perPage);this.pages=[];for(let s=1;s<=n;s++)this.pages.push(s)},paginate(n){let s=this.page,c=this.perPage,r=s*c-c,o=s*c;return n.slice(r,o)},deleteModalToggle(n){this.deleteModal=!0,this.event._id=n._id},deleteData(){this.event._id&&(E.delete(`https://api-node.themesbrand.website/apps/invoice/${this.event._id}`).then(n=>{n.data.status==="success"&&(this.invoiceList=this.invoiceList.filter(s=>s._id!=this.event._id))}).catch(n=>{console.log(n)}),this.deleteModal=!1)},onSort(n){this.direction=this.direction==="asc"?"desc":"asc";const s=[...this.invoiceList];s.sort((c,r)=>{const o=c[n]<r[n]?-1:c[n]>r[n]?1:0;return this.direction==="asc"?o:-o}),this.invoiceList=s}},beforeMount(){E.get("https://api-node.themesbrand.website/apps/invoice").then(n=>{this.invoiceList=[];const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.data.data.forEach(c=>{var r=new Date(c.date),o=r.getHours(),i=r.getMinutes(),v=o>=12?"PM":"AM";o=o%12,o=o||12,o=o<10?"0"+o:o,i=i<10?"0"+i:i;var C=o+":"+i+" "+v,w=r.getDate()<10?"0"+r.getDate():r.getDate();c.date=w+" "+s[r.getMonth()]+", "+r.getFullYear(),c.time=C,c.image_src="https://api-node.themesbrand.website/images/users/"+c.img,this.invoiceList.push(c)})}).catch(n=>{console.log(n)})},mounted(){var n=document.getElementById("checkAll");n&&(n.onclick=function(){var c=document.querySelectorAll('.form-check-all input[type="checkbox"]');n.checked==!0?c.forEach(function(r){r.checked=!0,r.closest("tr").classList.add("table-active"),document.getElementById("remove-actions").style.display="block"}):c.forEach(function(r){r.checked=!1,r.closest("tr").classList.remove("table-active"),document.getElementById("remove-actions").style.display="none"})});var s=document.querySelectorAll("#invoiceList .form-check-input");Array.from(s).forEach(function(c){c.addEventListener("change",function(r){var o=document.querySelectorAll("#invoiceList .form-check-input:checked").length;r.target.closest("tr").classList.contains("table-active"),o>0?document.getElementById("remove-actions").style.display="block":document.getElementById("remove-actions").style.display="none"})})}},re={class:"d-flex align-items-center"},de={class:"flex-grow-1"},ue={class:"text-uppercase fw-medium text-muted mb-0"},me={class:"flex-shrink-0"},pe={class:"d-flex align-items-end justify-content-between mt-4"},he={class:"fs-22 fw-semibold ff-secondary mb-4"},fe={class:"text-muted"},_e={class:"avatar-sm flex-shrink-0"},ge={class:"avatar-title bg-light rounded fs-3"},ve={class:"d-flex align-items-center"},be=e("h5",{class:"card-title mb-0 flex-grow-1"},"Invoices",-1),ye={class:"flex-shrink-0"},xe={class:"d-flex gap-2 flex-wrap"},ke=e("i",{class:"ri-delete-bin-2-line"},null,-1),Ce=e("i",{class:"ri-add-line align-bottom me-1"},null,-1),we={class:"search-box"},Be=e("i",{class:"ri-search-line search-icon"},null,-1),Ie={class:"input-light"},Le=e("i",{class:"ri-equalizer-fill me-1 align-bottom"},null,-1),Me={class:"table-responsive table-card"},Se={class:"table align-middle table-nowrap",id:"invoiceTable"},Pe={class:"text-muted"},De=e("th",{scope:"col",style:{width:"50px"}},[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",id:"checkAll",value:"option"})])],-1),Ae=e("th",{class:"sort text-uppercase","data-sort":"action"},"Action",-1),Ee={class:"list form-check-all"},Ve=e("th",{scope:"row"},[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",name:"chk_child",value:"option1"})])],-1),Fe={class:"id"},Oe={class:"customer_name"},Te={key:0,class:"d-flex align-items-center"},qe=["src"],Ne={key:1,class:"d-flex align-items-center"},Qe={class:"flex-shrink-0 avatar-xs me-2"},Ue={class:"avatar-title bg-success-subtle text-success rounded-circle fs-13"},He={class:"email"},je={class:"country"},Re={class:"date"},ze={class:"text-muted"},We={class:"invoice_amount"},Xe={class:"status"},Ye=e("i",{class:"ri-more-fill align-middle"},null,-1),Je=e("i",{class:"ri-eye-fill align-bottom me-2 text-muted"},null,-1),Ze=e("i",{class:"ri-pencil-fill align-bottom me-2 text-muted"},null,-1),Ge=e("i",{class:"ri-download-2-line align-bottom me-2 text-muted"},null,-1),Ke=e("li",{class:"dropdown-divider"},null,-1),$e=e("i",{class:"ri-delete-bin-fill align-bottom me-2 text-muted"},null,-1),et={key:0,class:"noresult"},tt={class:"text-center"},st=e("h5",{class:"mt-2"},"Sorry! No Result Found",-1),ot=e("p",{class:"text-muted mb-0"},"We've searched more than 150+ Orders We did not find any orders for you search.",-1),nt={key:0,class:"d-flex justify-content-end mt-3"},at={class:"pagination-wrap hstack gap-2"},lt={class:"pagination listjs-pagination mb-0"},it=["onClick"],ct={class:"mt-2 text-center"},rt=e("div",{class:"mt-4 pt-2 fs-15 mx-4 mx-sm-5"},[e("h4",null,"Are you sure ?"),e("p",{class:"text-muted mx-4 mb-0"},"Are you sure you want to remove this record ?")],-1),dt={class:"d-flex gap-2 justify-content-center mt-4 mb-2"};function ut(n,s,c,r,o,i){const v=d("PageHeader"),C=d("BBadge"),w=d("FileTextIcon"),V=d("CheckSquareIcon"),F=d("ClockIcon"),O=d("XOctagonIcon"),B=d("BCardBody"),P=d("BCard"),_=d("BCol"),I=d("BRow"),y=d("BButton"),D=d("Link"),T=d("BCardHeader"),q=d("flat-pickr"),N=d("Multiselect"),Q=d("BFrom"),x=d("BDropdownItem"),U=d("BDropdown"),A=d("lottie"),L=d("BLink"),H=d("BModal"),j=d("Layout");return p(),g(j,null,{default:l(()=>[a(v,{title:"Invoice List",pageTitle:"Invoices"}),a(I,null,{default:l(()=>[(p(!0),h(S,null,M(o.invoiceWidgets,(t,b)=>(p(),g(_,{xl:"3",md:"6",key:b},{default:l(()=>[a(P,{"no-body":"",class:"card-animate"},{default:l(()=>[a(B,null,{default:l(()=>[e("div",re,[e("div",de,[e("p",ue,u(t.label),1)]),e("div",me,[e("h5",{class:k(`text-${t.percentageClass} fs-14 mb-0`)},[e("i",{class:k(`${t.icon} fs-13 align-middle`)},null,2),m(" "+u(t.percentage),1)],2)])]),e("div",pe,[e("div",null,[e("h4",he,u(t.prefix)+u(t.counter)+u(t.suffix),1),a(C,{class:"bg-warning me-1"},{default:l(()=>[m(u(t.badge),1)]),_:2},1024),m(),e("span",fe,u(t.caption),1)]),e("div",_e,[e("span",ge,[t.feaIcon=="file-text"?(p(),g(w,{key:0,class:"text-success icon-md"})):f("",!0),t.feaIcon=="check-square"?(p(),g(V,{key:1,class:"text-success icon-md"})):f("",!0),t.feaIcon=="clock"?(p(),g(F,{key:2,class:"text-success icon-md"})):f("",!0),t.feaIcon=="x-octagon"?(p(),g(O,{key:3,class:"text-success icon-md"})):f("",!0)])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(I,null,{default:l(()=>[a(_,{lg:"12"},{default:l(()=>[a(P,{"no-body":"",id:"invoiceList"},{default:l(()=>[a(T,{class:"border-0"},{default:l(()=>[e("div",ve,[be,e("div",ye,[e("div",xe,[a(y,{variant:"primary",class:"me-1",id:"remove-actions",onClick:i.deleteMultiple},{default:l(()=>[ke]),_:1},8,["onClick"]),a(D,{href:"/invoices/create",class:"btn btn-danger"},{default:l(()=>[Ce,m(" Create Invoice")]),_:1})])])])]),_:1}),a(B,{class:"bg-light-subtle border border-dashed border-start-0 border-end-0"},{default:l(()=>[a(Q,null,{default:l(()=>[a(I,{class:"g-3"},{default:l(()=>[a(_,{xxl:"5",sm:"12"},{default:l(()=>[e("div",we,[X(e("input",{type:"text",class:"form-control search bg-light border-light","onUpdate:modelValue":s[0]||(s[0]=t=>o.searchQuery=t),placeholder:"Search for customer, email, country, status or something..."},null,512),[[Y,o.searchQuery]]),Be])]),_:1}),a(_,{xxl:"3",sm:"4"},{default:l(()=>[a(q,{modelValue:o.date,"onUpdate:modelValue":s[1]||(s[1]=t=>o.date=t),config:o.config,class:"form-control bg-light border-light",placeholder:"Select date"},null,8,["modelValue","config"])]),_:1}),a(_,{xxl:"3",sm:"4"},{default:l(()=>[e("div",Ie,[a(N,{class:"form-control",modelValue:o.status1,"onUpdate:modelValue":s[2]||(s[2]=t=>o.status1=t),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"all",label:"all"},{value:"Unpaid",label:"Unpaid"},{value:"Paid",label:"Paid"},{value:"Cancel",label:"Cancel"},{value:"Refund",label:"Refund"}]},null,8,["modelValue"])])]),_:1}),a(_,{xxl:"1",sm:"4"},{default:l(()=>[a(y,{type:"button",variant:"primary",class:"w-100",onClick:i.SearchData},{default:l(()=>[Le,m(" Filters ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),a(B,null,{default:l(()=>[e("div",null,[e("div",Me,[e("table",Se,[e("thead",Pe,[e("tr",null,[De,e("th",{class:"sort text-uppercase","data-sort":"invoice_id",onClick:s[3]||(s[3]=t=>i.onSort("invoiceId"))},"ID"),e("th",{class:"sort text-uppercase","data-sort":"customer_name",onClick:s[4]||(s[4]=t=>i.onSort("name"))},"Customer"),e("th",{class:"sort text-uppercase","data-sort":"email",onClick:s[5]||(s[5]=t=>i.onSort("email"))},"Email"),e("th",{class:"sort text-uppercase","data-sort":"country",onClick:s[6]||(s[6]=t=>i.onSort("country"))},"Country"),e("th",{class:"sort text-uppercase","data-sort":"date",onClick:s[7]||(s[7]=t=>i.onSort("date"))},"Date"),e("th",{class:"sort text-uppercase","data-sort":"invoice_amount",onClick:s[8]||(s[8]=t=>i.onSort("amount"))},"Amount"),e("th",{class:"sort text-uppercase","data-sort":"status",onClick:s[9]||(s[9]=t=>i.onSort("status"))},"Payment Status"),Ae])]),e("tbody",Ee,[(p(!0),h(S,null,M(i.resultQuery,(t,b)=>(p(),h("tr",{key:b},[Ve,e("td",Fe,[a(D,{href:"/invoices/detail",class:"fw-medium link-primary"},{default:l(()=>[m(u(t.invoiceId),1)]),_:2},1024)]),e("td",Oe,[t.img?(p(),h("div",Te,[e("img",{src:t.image_src,alt:"",class:"avatar-xs rounded-circle me-2"},null,8,qe),m(" "+u(t.name),1)])):f("",!0),t.img?f("",!0):(p(),h("div",Ne,[e("div",Qe,[e("div",Ue,u(t.name.charAt(0)),1)]),m(" "+u(t.name),1)]))]),e("td",He,u(t.email),1),e("td",je,u(t.country),1),e("td",Re,[m(u(t.date)+" ",1),e("small",ze,u(t.time),1)]),e("td",We,"$"+u(t.amount),1),e("td",Xe,[e("span",{class:k(["badge text-uppercase",{"bg-success-subtle text-success":t.status=="Paid","bg-warning-subtle text-warning":t.status=="Unpaid","bg-danger-subtle text-danger":t.status=="Cancel","bg-primary-subtle text-primary":t.status=="Refund","bg-info-subtle text-info":t.status=="Active"}])},u(t.status),3)]),e("td",null,[a(U,{variant:"link",class:"card-header-dropdown","toggle-class":"btn btn-soft-secondary btn-sm arrow-none","menu-class":"dropdown-menu-end",offset:{alignmentAxis:-130,crossAxis:0,mainAxis:10}},{"button-content":l(()=>[Ye]),default:l(()=>[a(x,{href:"/invoices/detail"},{default:l(()=>[Je,m("View")]),_:1}),a(x,{href:"/invoices/create"},{default:l(()=>[Ze,m("Edit")]),_:1}),a(x,null,{default:l(()=>[Ge,m("Download ")]),_:1}),Ke,a(x,{onClick:R=>i.deleteModalToggle(t)},{default:l(()=>[$e,m("Delete ")]),_:2},1032,["onClick"])]),_:2},1024)])]))),128))])]),i.resultQuery.length<1?(p(),h("div",et,[e("div",tt,[a(A,{class:"avatar-xl",colors:"primary:#121331,secondary:#08a88a",options:o.defaultOptions,height:75,width:75},null,8,["options"]),st,ot])])):f("",!0)]),i.resultQuery.length>=1?(p(),h("div",nt,[e("div",at,[a(L,{class:"page-item pagination-prev",href:"#",disabled:o.page<=1,onClick:s[10]||(s[10]=t=>o.page--)},{default:l(()=>[m(" Previous ")]),_:1},8,["disabled"]),e("ul",lt,[(p(!0),h(S,null,M(o.pages,(t,b)=>(p(),h("li",{class:k({active:t==o.page,disabled:t=="..."}),key:b,onClick:R=>o.page=t},[a(L,{class:"page",href:"#"},{default:l(()=>[m(u(t),1)]),_:2},1024)],10,it))),128))]),a(L,{class:"page-item pagination-next",href:"#",disabled:o.page>=o.pages.length,onClick:s[11]||(s[11]=t=>o.page++)},{default:l(()=>[m(" Next ")]),_:1},8,["disabled"])])])):f("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),a(H,{modelValue:o.deleteModal,"onUpdate:modelValue":s[13]||(s[13]=t=>o.deleteModal=t),"modal-class":"zoomIn","hide-footer":"","no-close-on-backdrop":"",centered:""},{default:l(()=>[e("div",ct,[a(A,{class:"avatar-xl",colors:"primary:#f7b84b,secondary:#f06548",options:o.defaultOptions1,height:75,width:75},null,8,["options"]),rt]),e("div",dt,[a(y,{variant:"light",size:"w-sm",onClick:s[12]||(s[12]=t=>o.deleteModal=!1)},{default:l(()=>[m("Close")]),_:1}),a(y,{variant:"danger",size:"w-sm",id:"delete-record",onClick:i.deleteData},{default:l(()=>[m("Yes, Delete It!")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])]),_:1})}const Mt=ie(ce,[["render",ut]]);export{Mt as default};
