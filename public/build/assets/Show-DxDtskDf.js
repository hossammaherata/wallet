import{L as N}from"./main-B4G14OJk.js";import{P as V}from"./page-header-DNk6vVyo.js";import{_ as g}from"./card-header-CbzQO_FG.js";import{Q as A,c as x,w as t,o as u,a as s,u as e,j as y,h as r,G as i,m as w,k as v,l as m,f as a,t as o,s as b,d as p,q as D,Y as P,e as C,x as L}from"./app-DcM7ay-z.js";import"./simplebar-vue.esm-Dw2ZmZ-z.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-BfYujB8V.js";import"./russia-pMTSjNGF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"mb-3"},F=a("label",{class:"form-label fw-semibold"},"Store Name",-1),I={class:"form-control-plaintext"},U={class:"mb-3"},Y=a("label",{class:"form-label fw-semibold"},"Phone",-1),j={class:"form-control-plaintext"},G={class:"mb-3"},H=a("label",{class:"form-label fw-semibold"},"Email Address",-1),M={class:"form-control-plaintext"},R={class:"mb-3"},W=a("label",{class:"form-label fw-semibold"},"Status",-1),q={class:"form-control-plaintext"},Q={class:"mb-3"},$=a("label",{class:"form-label fw-semibold"},"Created At",-1),z={class:"form-control-plaintext"},J={class:"mb-3"},K=a("label",{class:"form-label fw-semibold"},"Last Updated",-1),O={class:"form-control-plaintext"},X={class:"mb-3"},Z=a("label",{class:"form-label fw-semibold"},"Current Balance",-1),ee={class:"form-control-plaintext"},te={class:"h4 text-primary fw-bold"},se={class:"mb-3"},ae=a("label",{class:"form-label fw-semibold"},"Wallet Status",-1),le={class:"form-control-plaintext"},oe={key:0},ne={class:"mb-3"},re={class:"text-muted"},de={class:"table-responsive"},ce={key:0},ie=a("br",null,null,-1),_e={class:"text-muted"},ue={key:0},me=a("br",null,null,-1),fe={class:"text-muted"},pe={key:1,class:"text-muted"},be={class:"fw-bold"},he={key:0,class:"d-flex justify-content-center mt-3"},ge={key:1,class:"text-center py-4"},ye=a("p",{class:"text-muted"},"No transactions found",-1),we=[ye],Pe={__name:"Show",setup(ve){const{store:d,transactions:c}=A().props,h=n=>n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",k=n=>parseFloat(n||0).toFixed(2),S=n=>({success:"success",pending:"warning",failed:"danger"})[n]||"secondary",T=n=>({purchase:"primary",transfer:"info",credit:"success",debit:"danger",refund:"warning"})[n]||"secondary",B=(n,f)=>{L.get(route("admin.stores.show",d.id),{page:f},{preserveState:!0})};return(n,f)=>(u(),x(N,null,{default:t(()=>[s(V,{title:"Store Details",pageTitle:"Stores Management",href:n.route("admin.stores.index")},{actions:t(()=>[s(e(y),{href:n.route("admin.stores.edit",e(d).id),class:"btn btn-warning me-2"},{default:t(()=>[r(" Edit Store ")]),_:1},8,["href"]),s(e(y),{href:n.route("admin.stores.index"),class:"btn btn-secondary"},{default:t(()=>[r(" Back to List ")]),_:1},8,["href"])]),_:1},8,["href"]),s(e(m),null,{default:t(()=>[s(e(i),{lg:"12"},{default:t(()=>[s(e(w),{"no-body":""},{default:t(()=>[s(g,{title:"Store Information"}),s(e(v),null,{default:t(()=>[s(e(m),null,{default:t(()=>[s(e(i),{md:"6"},{default:t(()=>[a("div",E,[F,a("p",I,o(e(d).name),1)])]),_:1}),s(e(i),{md:"6"},{default:t(()=>[a("div",U,[Y,a("p",j,o(e(d).phone||"-"),1)])]),_:1})]),_:1}),s(e(m),null,{default:t(()=>[s(e(i),{md:"6"},{default:t(()=>[a("div",G,[H,a("p",M,o(e(d).email||"-"),1)])]),_:1}),s(e(i),{md:"6"},{default:t(()=>[a("div",R,[W,a("p",q,[s(e(b),{variant:e(d).status==="active"?"success":"danger"},{default:t(()=>[r(o(e(d).status||"N/A"),1)]),_:1},8,["variant"])])])]),_:1})]),_:1}),s(e(m),null,{default:t(()=>[s(e(i),{md:"6"},{default:t(()=>[a("div",Q,[$,a("p",z,o(h(e(d).created_at)),1)])]),_:1}),s(e(i),{md:"6"},{default:t(()=>[a("div",J,[K,a("p",O,o(h(e(d).updated_at)),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(e(m),{class:"mt-4"},{default:t(()=>[s(e(i),{lg:"12"},{default:t(()=>[s(e(w),{"no-body":""},{default:t(()=>[s(g,{title:"Wallet Information"}),s(e(v),null,{default:t(()=>[s(e(m),null,{default:t(()=>[s(e(i),{md:"6"},{default:t(()=>{var l;return[a("div",X,[Z,a("p",ee,[a("span",te,o(k(((l=e(d).wallet)==null?void 0:l.balance)||0))+" Points ",1)])])]}),_:1}),s(e(i),{md:"6"},{default:t(()=>{var l;return[a("div",se,[ae,a("p",le,[s(e(b),{variant:((l=e(d).wallet)==null?void 0:l.status)==="active"?"success":"danger"},{default:t(()=>{var _;return[r(o(((_=e(d).wallet)==null?void 0:_.status)||"N/A"),1)]}),_:1},8,["variant"])])])]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(e(m),{class:"mt-4"},{default:t(()=>[s(e(i),{lg:"12"},{default:t(()=>[s(e(w),{"no-body":""},{default:t(()=>[s(g,{title:"Transactions History"}),s(e(v),null,{default:t(()=>[e(c)&&e(c).data&&e(c).data.length>0?(u(),p("div",oe,[a("div",ne,[a("span",re,[r("Total Transactions: "),a("strong",null,o(e(c).total),1)])]),a("div",de,[s(e(D),{striped:"",hover:"",items:e(c).data,fields:[{key:"row_number",label:"#",sortable:!1},{key:"reference_id",label:"Reference ID",sortable:!0},{key:"from_user",label:"From",sortable:!1},{key:"to_user",label:"To",sortable:!1},{key:"amount",label:"Amount",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"created_at",label:"Date",sortable:!0},{key:"actions",label:"Actions"}],class:"table-nowrap"},{"cell(row_number)":t(({index:l})=>[r(o((e(c).current_page-1)*e(c).per_page+l+1),1)]),"cell(reference_id)":t(({item:l})=>[a("code",null,o(l.reference_id),1)]),"cell(from_user)":t(({item:l})=>{var _;return[(_=l.from_wallet)!=null&&_.user?(u(),p("span",ce,[r(o(l.from_wallet.user.name),1),ie,a("small",_e,o(l.from_wallet.user.phone),1)])):(u(),x(e(b),{key:1,variant:"secondary"},{default:t(()=>[r("SYSTEM")]),_:1}))]}),"cell(to_user)":t(({item:l})=>{var _;return[(_=l.to_wallet)!=null&&_.user?(u(),p("span",ue,[r(o(l.to_wallet.user.name),1),me,a("small",fe,o(l.to_wallet.user.phone),1)])):(u(),p("span",pe,"-"))]}),"cell(amount)":t(({item:l})=>[a("span",be,o(k(l.amount))+" Points",1)]),"cell(type)":t(({item:l})=>[s(e(b),{variant:T(l.type)},{default:t(()=>[r(o(l.type),1)]),_:2},1032,["variant"])]),"cell(status)":t(({item:l})=>[s(e(b),{variant:S(l.status)},{default:t(()=>[r(o(l.status),1)]),_:2},1032,["variant"])]),"cell(created_at)":t(({item:l})=>[r(o(h(l.created_at)),1)]),"cell(actions)":t(({item:l})=>[s(e(y),{href:n.route("admin.transactions.show",l.id),class:"btn btn-info btn-sm"},{default:t(()=>[r(" View ")]),_:2},1032,["href"])]),_:1},8,["items"])]),e(c).last_page>1?(u(),p("div",he,[s(e(P),{modelValue:e(c).current_page,"onUpdate:modelValue":f[0]||(f[0]=l=>e(c).current_page=l),"total-rows":e(c).total,"per-page":e(c).per_page,onPageClick:B},null,8,["modelValue","total-rows","per-page"])])):C("",!0)])):(u(),p("div",ge,we))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Pe as default};
