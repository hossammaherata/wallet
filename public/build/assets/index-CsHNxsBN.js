import{h as I}from"./moment-C5S46NFB.js";import{S as B}from"./sweetalert2.all-CQdR4Ran.js";import{s as Y}from"./simplebar-vue.esm-DAj5T6fG.js";import{d as H}from"./vue-feather-icons.es-C906MK1C.js";import{C as O}from"./component-g0PVkOZZ.js";/* empty css                  */import{i as j,a as R,b as J,c as z,d as Z,I as K,e as Q,F as X,E as $}from"./utils-D3JBM8Ik.js";import{c as w,r as E}from"./index-FZuCO-BC.js";import{u as ee}from"./index-BMnj_dmw.js";import{L as te}from"./main-DSaa3E_d.js";import{P as se}from"./page-header-WpxB93eJ.js";import{r as v,c as q,w as d,o as r,a as o,h as c,f as e,t as u,d as h,g as D,n as k,F as V,i as p,v as P,e as b,D as y,A as U}from"./app-Baws5krQ.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";const ne={setup(){return{v$:ee()}},validations:{event:{title:{required:w.withMessage("Title is required",E)},category:{required:w.withMessage("Category is required",E)},location:{required:w.withMessage("Location is required",E)},descri:{required:w.withMessage("Descri is required",E)}}},data(){return{calendarOptions:{timeZone:"local",droppable:!0,navLinks:!0,plugins:[j,R,J,z,Z],themeSystem:"bootstrap",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},windowResize:()=>{this.getInitialView()},initialView:this.getInitialView(),initialEvents:K,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,dateClick:this.dateClicked,eventClick:this.editEvent,eventsSet:this.handleEvents},currentEvents:[],showModal:!1,eventModal:!1,eventEditModal:!1,categories:Q,submitted:!1,submit:!1,newEventData:{},edit:{},deleteId:{},event:{title:"",category:"",location:"",descri:"",date:""},editevent:{editTitle:"",editcategory:"",editlocation:"",editdescri:"",editdates:"",editcalendardates:""},config:{wrap:!0,altFormat:"M j, Y",altInput:!0,dateFormat:"d M, Y",mode:"range"},timeConfig:{enableTime:!1,altInput:!0,dateFormat:"Z",altFormat:"d M, Y",mode:"range"},date2:null}},components:{Layout:te,PageHeader:se,FullCalendar:X,CalendarIcon:H,flatPickr:O,simpleBar:Y},mounted(){new $(document.getElementById("external-events"),{itemSelector:".external-event",eventData:function(n){return{title:n.innerText,start:new Date,className:n.getAttribute("data-class")}}})},methods:{formatDate(n){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date(n),l=""+t[a.getMonth()].slice(0,3),i=""+a.getDate(),m=a.getFullYear();return l.length<2&&(l="0"+l),i.length<2&&(i="0"+i),[i+" "+l,m].join(" ")},dateStamp(n,t){let a;return t==null?a=this.formatDate(n):a=this.formatDate(n)+" - "+this.formatDate(t),a},formatTime(n){if(n=new Date(n),n.getHours()!=null){let t=n.getHours(),a=n.getMinutes()?n.getMinutes():"00",l=t>=12?"PM":"AM";return t=t%12,t=t||12,a=a<10&&a!=0?"0"+a:a,t+":"+a+" "+l}},timeStamp(n,t){let a;return this.formatTime(n)==this.formatTime(t)?a="Full day event":a=this.formatTime(n)+" - "+this.formatTime(t),a},getInitialView(){return window.innerWidth>=768&&window.innerWidth<1200?"timeGridWeek":window.innerWidth<=768?"listMonth":"dayGridMonth"},handleSubmit(n){if(this.submitted=!0,this.v$.$touch(),!this.v$.$invalid){{const t=this.event.title,a=this.event.category,l=this.$refs.fullCalendar.getApi(),i=this.event.location,m=this.event.descri,g=this.event.date.split(" ").filter(x=>x!=="to"),f=g[0],_=g[1];l.addEvent({id:Math.floor(Math.random()*100+20)-20,title:t,start:f,end:_,classNames:a,extendedProps:{department:"All Day Event",location:i,description:m}}),this.successmsg(),this.showModal=!1,this.newEventData={}}this.submitted=!1,this.event={}}},hideModal(n){this.submitted=!1,this.showModal=!1,this.event={}},editSubmit(n){this.submit=!0;const t=this.editevent.editTitle,a=this.editevent.editcategory,l=this.editevent.editlocation,i=this.editevent.editdescri,m=this.editevent.editcalendardates.split(" ").filter(_=>_!=="to"),g=m[0],f=m[1];this.edit.setProp("title",t),this.edit.setProp("classNames",a),this.edit.setStart(g),this.edit.setEnd(f),this.edit.setExtendedProp("location",l),this.edit.setExtendedProp("description",i),this.successmsg(),this.eventModal=!1,this.eventEditModal=!1},deleteEvent(){this.edit.remove(),this.eventModal=!1,this.eventEditModal=!1},dateClicked(n){this.newEventData=n,this.showModal=!0},editEvent(n){this.edit=n.event,this.editevent.editTitle=this.edit.title,this.editevent.editcategory=this.edit.classNames,this.editevent.editlocation=this.edit.extendedProps.location,this.editevent.editdescri=this.edit.extendedProps.description,this.editevent.editdates=this.dateStamp(this.edit.start,this.edit.end),this.editevent.editcalendardates=I(this.edit.start).toISOString()+" to "+I(this.edit.end?this.edit.end:this.edit.start).toISOString(),this.eventModal=!0},closeModal(){this.eventModal=!1,this.eventEditModal=!1},confirm(){B.fire({title:"Are you sure?",text:"You won't be able to delete this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(n=>{n.value&&(this.deleteEvent(),B.fire("Deleted!","Event has been deleted.","success"))})},handleEvents(n){console.log("event call 1 time",n),this.currentEvents=n.reverse()},successmsg(){B.fire({position:"center",icon:"success",title:"Event has been saved",showConfirmButton:!1,timer:1e3})}}},oe=e("i",{class:"mdi mdi-plus"},null,-1),le=e("div",{id:"external-events"},[e("br"),e("p",{class:"text-muted"}," Drag and drop your event or click in the calendar "),e("div",{class:"external-event fc-event bg-success-subtle text-success","data-class":"bg-success-subtle"},[e("i",{class:"mdi mdi-checkbox-blank-circle me-2"}),c("New Event Planning ")]),e("div",{class:"external-event fc-event bg-info-subtle text-info","data-class":"bg-info-subtle"},[e("i",{class:"mdi mdi-checkbox-blank-circle me-2"}),c("Meeting ")]),e("div",{class:"external-event fc-event bg-warning-subtle text-warning","data-class":"bg-warning-subtle"},[e("i",{class:"mdi mdi-checkbox-blank-circle me-2"}),c("Generating Reports ")]),e("div",{class:"external-event fc-event bg-danger-subtle text-danger","data-class":"bg-danger-subtle"},[e("i",{class:"mdi mdi-checkbox-blank-circle me-2"}),c("Create New theme ")])],-1),de=e("h5",{class:"mb-1"},"Upcoming Events",-1),ae=e("p",{class:"text-muted"},"Don't miss scheduled events",-1),re={class:"d-flex mb-3"},ce={class:"flex-grow-1"},me={class:"fw-medium"},ve={class:"flex-shrink-0"},ue={class:"card-title fs-16"},he={class:"text-muted text-truncate-two-lines mb-0"},fe={class:"d-flex"},_e={class:"flex-shrink-0"},pe=e("div",{class:"flex-grow-1 ms-3"},[e("h6",{class:"fs-15"},"Welcome to your Calendar!"),e("p",{class:"text-muted mb-0"}," Event that applications book will appear here. Click on an event to see the details and manage applicants event. ")],-1),be=e("div",{style:{clear:"both"}},null,-1),ge={class:"text-end"},xe={class:"row event-form"},ye={class:"col-12"},ke={class:"mb-3"},we=e("label",{class:"form-label"},"Type",-1),Ee=["value"],Me={key:0,class:"invalid-feedback"},Ce={key:0},Be={class:"col-12"},De={class:"mb-3"},Ve=e("label",{class:"form-label"},"Event Name",-1),Se={key:0,class:"invalid-feedback"},Te={key:0},Ne={class:"col-12"},Ie={class:"mb-3"},qe=e("label",null,"Event Date",-1),Pe={class:"input-group"},Ue=e("span",{class:"input-group-text"},[e("i",{class:"ri-calendar-event-line"})],-1),Ae={class:"col-12"},Fe={class:"mb-3"},Le=e("label",{for:"event-location"},"Location",-1),Ge={key:0,class:"invalid-feedback"},We={key:0},Ye=e("input",{type:"hidden",id:"eventid",name:"eventid",value:""},null,-1),He={class:"col-12"},Oe={class:"mb-3"},je=e("label",{class:"form-label"},"Description",-1),Re={key:0,class:"invalid-feedback"},Je={key:0},ze={class:"text-end pt-3"},Ze={class:"text-end"},Ke={class:"event-details"},Qe={class:"d-flex mb-2"},Xe={class:"flex-grow-1 d-flex align-items-center"},$e=e("div",{class:"flex-shrink-0 me-3"},[e("i",{class:"ri-calendar-event-line text-muted fs-16"})],-1),et={class:"flex-grow-1"},tt={class:"d-block fw-semibold mb-0",id:"event-start-date-tag"},st=e("div",{class:"d-flex align-items-center mb-2"},[e("div",{class:"flex-shrink-0 me-3"},[e("i",{class:"ri-time-line text-muted fs-16"})]),e("div",{class:"flex-grow-1"},[e("h6",{class:"d-block fw-semibold mb-0"},[e("span",{id:"event-timepicker1-tag"}),c(" - "),e("span",{id:"event-timepicker2-tag"})])])],-1),it={class:"d-flex align-items-center mb-2"},nt=e("div",{class:"flex-shrink-0 me-3"},[e("i",{class:"ri-map-pin-line text-muted fs-16"})],-1),ot={class:"flex-grow-1"},lt={class:"d-block fw-semibold mb-0"},dt={id:"event-location-tag"},at={class:"d-flex mb-3"},rt=e("div",{class:"flex-shrink-0 me-3"},[e("i",{class:"ri-discuss-line text-muted fs-16"})],-1),ct={class:"flex-grow-1"},mt={class:"d-block text-muted mb-0",id:"event-description-tag"},vt={class:"hstack gap-2 justify-content-end"},ut=e("i",{class:"ri-close-line align-bottom"},null,-1),ht={class:"row event-form"},ft={class:"col-12"},_t={class:"mb-3"},pt=e("label",{class:"form-label"},"Type",-1),bt=["value"],gt={class:"col-12"},xt={class:"mb-3"},yt=e("label",{class:"form-label"},"Event Name",-1),kt={class:"col-12"},wt={class:"mb-3"},Et=e("label",null,"Event Date",-1),Mt={class:"input-group"},Ct=e("span",{class:"input-group-text"},[e("i",{class:"ri-calendar-event-line"})],-1),Bt={class:"col-12"},Dt={class:"mb-3"},Vt=e("label",{for:"event-location"},"Location",-1),St=e("input",{type:"hidden",id:"eventid",name:"eventid",value:""},null,-1),Tt={class:"col-12"},Nt={class:"mb-3"},It=e("label",{class:"form-label"},"Description",-1),qt={class:"hstack gap-2 justify-content-end"},Pt=e("i",{class:"ri-close-line align-bottom"},null,-1);function Ut(n,t,a,l,i,m){const g=v("PageHeader"),f=v("BButton"),_=v("BCardBody"),x=v("BCard"),A=v("BBadge"),F=v("simpleBar"),L=v("CalendarIcon"),M=v("BCol"),G=v("FullCalendar"),S=v("BRow"),T=v("BLink"),N=v("flat-pickr"),C=v("BModal"),W=v("Layout");return r(),q(W,null,{default:d(()=>[o(g,{title:"Calendar",pageTitle:"Apps"}),o(S,null,{default:d(()=>[o(M,{cols:"12"},{default:d(()=>[o(S,null,{default:d(()=>[o(M,{xl:"3"},{default:d(()=>[o(x,{"no-body":"",class:"card-h-100"},{default:d(()=>[o(_,null,{default:d(()=>[o(f,{variant:"primary",class:"w-100",id:"btn-new-event",onClick:t[0]||(t[0]=s=>i.showModal=!0)},{default:d(()=>[oe,c(" Create New Event ")]),_:1}),le]),_:1})]),_:1}),e("div",null,[de,ae,o(F,{class:"upcoming-events pe-2 me-n1 mb-3","data-simplebar":"init",style:{height:"400px"}},{default:d(()=>[c(u(console.log("call currentEvents ",i.currentEvents))+" ",1),(r(!0),h(V,null,D(i.currentEvents,s=>(r(),q(x,{"no-body":"",class:"mb-3",key:s.id},{default:d(()=>[o(_,null,{default:d(()=>[e("div",re,[e("div",ce,[e("i",{class:k(`mdi mdi-checkbox-blank-circle me-2 ${s.classNames}`)},null,2),e("span",me,u(this.dateStamp(s.start,s.end)),1)]),e("div",ve,[o(A,{tag:"small",variant:"primary-subtle",class:"bg-primary-subtle text-primary ms-auto"},{default:d(()=>[c(u(this.timeStamp(s.start,s.end)),1)]),_:2},1024)])]),e("h6",ue,u(s.title),1),e("p",he,u(s.extendedProps&&s.extendedProps.description?s.extendedProps.description:"N.A."),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),o(x,{"no-body":""},{default:d(()=>[o(_,{class:"bg-info-subtle"},{default:d(()=>[e("div",fe,[e("div",_e,[o(L,{class:"text-info icon-dual-info"})]),pe])]),_:1})]),_:1})]),_:1}),o(M,{xl:"9"},{default:d(()=>[o(x,{"no-body":"",class:"card-h-100"},{default:d(()=>[o(_,null,{default:d(()=>[o(G,{ref:"fullCalendar",options:i.calendarOptions},null,8,["options"])]),_:1})]),_:1})]),_:1})]),_:1}),be]),_:1})]),_:1}),o(C,{modelValue:i.showModal,"onUpdate:modelValue":t[7]||(t[7]=s=>i.showModal=s),title:"Add New Event","body-class":"p-4","header-class":"p-3 bg-info-subtle","hide-footer":"",class:"v-modal-custom",centered:""},{default:d(()=>[e("form",{onSubmit:t[6]||(t[6]=U((...s)=>m.handleSubmit&&m.handleSubmit(...s),["prevent"])),name:"event-form",id:"form-event"},[e("div",ge,[o(T,{href:"#",class:"btn btn-sm btn-soft-primary",id:"edit-event-btn","data-id":"new-event",onclick:"editEvent(this)",role:"button",hidden:"true"},{default:d(()=>[c("Edit")]),_:1})]),e("div",xe,[e("div",ye,[e("div",ke,[we,p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.event.category=s),class:k(["form-control",{"is-invalid":i.submitted&&l.v$.event.category.errors}]),name:"category"},[(r(!0),h(V,null,D(i.categories,s=>(r(),h("option",{key:s.backgroundColor,value:`${s.value}`},u(s.name),9,Ee))),128))],2),[[P,i.event.category]]),i.submitted&&l.v$.event.category.$error?(r(),h("div",Me,[l.v$.event.category.required.$message?(r(),h("span",Ce,u(l.v$.event.category.required.$message),1)):b("",!0)])):b("",!0)])]),e("div",Be,[e("div",De,[Ve,p(e("input",{id:"name","onUpdate:modelValue":t[2]||(t[2]=s=>i.event.title=s),type:"text",class:k(["form-control",{"is-invalid":i.submitted&&l.v$.event.title.$error}]),placeholder:"Insert Event name"},null,2),[[y,i.event.title]]),i.submitted&&l.v$.event.title.$error?(r(),h("div",Se,[l.v$.event.title.required.$message?(r(),h("span",Te,u(l.v$.event.title.required.$message),1)):b("",!0)])):b("",!0)])]),e("div",Ne,[e("div",Ie,[qe,e("div",Pe,[o(N,{placeholder:"Select date",modelValue:i.event.date,"onUpdate:modelValue":t[3]||(t[3]=s=>i.event.date=s),config:i.timeConfig,class:"form-control flatpickr-input",id:"caledate"},null,8,["modelValue","config"]),Ue])])]),e("div",Ae,[e("div",Fe,[Le,e("div",null,[p(e("input",{type:"text",class:k(["form-control d-block",{"is-invalid":i.submitted&&l.v$.event.location.$error}]),"onUpdate:modelValue":t[4]||(t[4]=s=>i.event.location=s),name:"event-location",id:"event-location",placeholder:"Event location"},null,2),[[y,i.event.location]]),i.submitted&&l.v$.event.location.$error?(r(),h("div",Ge,[l.v$.event.location.required.$message?(r(),h("span",We,u(l.v$.event.location.required.$message),1)):b("",!0)])):b("",!0)])])]),Ye,e("div",He,[e("div",Oe,[je,p(e("textarea",{class:k(["form-control d-block",{"is-invalid":i.submitted&&l.v$.event.descri.$error}]),id:"event-description","onUpdate:modelValue":t[5]||(t[5]=s=>i.event.descri=s),placeholder:"Enter a description",rows:"3",spellcheck:"false"},null,2),[[y,i.event.descri]]),i.submitted&&l.v$.event.descri.$error?(r(),h("div",Re,[l.v$.event.descri.required.$message?(r(),h("span",Je,u(l.v$.event.descri.required.$message),1)):b("",!0)])):b("",!0)])])]),e("div",ze,[o(f,{variant:"light",onClick:m.hideModal},{default:d(()=>[c("Close")]),_:1},8,["onClick"]),o(f,{type:"submit",variant:"success",class:"ms-1"},{default:d(()=>[c("Create event")]),_:1})])],32)]),_:1},8,["modelValue"]),o(C,{modelValue:i.eventModal,"onUpdate:modelValue":t[9]||(t[9]=s=>i.eventModal=s),title:this.editevent.editTitle,"hide-footer":"","body-class":"p-4","header-class":"p-3 bg-info-subtle",class:"v-modal-custom",centered:""},{default:d(()=>[e("div",Ze,[o(T,{href:"#",class:"btn btn-sm btn-soft-primary",id:"edit-event-btn","data-id":"edit-event",role:"button",onClick:t[8]||(t[8]=s=>(this.eventEditModal=!0,this.eventModal=!1))},{default:d(()=>[c("Edit")]),_:1})]),e("div",Ke,[e("div",Qe,[e("div",Xe,[$e,e("div",et,[e("h6",tt,u(this.editevent.editdates),1)])])]),st,e("div",it,[nt,e("div",ot,[e("h6",lt,[e("span",dt,u(this.editevent.editlocation||"No Location"),1)])])]),e("div",at,[rt,e("div",ct,[e("p",mt,u(this.editevent.editdescri||"N.A."),1)])])]),e("div",vt,[o(f,{variant:"soft-danger",id:"btn-delete-event",onClick:m.confirm},{default:d(()=>[ut,c(" Delete")]),_:1},8,["onClick"])])]),_:1},8,["modelValue","title"]),o(C,{modelValue:i.eventEditModal,"onUpdate:modelValue":t[16]||(t[16]=s=>i.eventEditModal=s),title:this.editevent.editTitle,"title-class":"text-black font-18","body-class":"p-4","header-class":"p-3 bg-info-subtle","hide-footer":"",class:"v-modal-custom",centered:""},{default:d(()=>[e("form",{onSubmit:t[15]||(t[15]=U((...s)=>m.editSubmit&&m.editSubmit(...s),["prevent"])),name:"event-form",id:"form-event"},[e("div",ht,[e("div",ft,[e("div",_t,[pt,p(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>i.editevent.editcategory=s),class:"form-control",name:"category"},[(r(!0),h(V,null,D(i.categories,s=>(r(),h("option",{key:s.backgroundColor,value:`${s.value}`},u(s.name),9,bt))),128))],512),[[P,i.editevent.editcategory]])])]),e("div",gt,[e("div",xt,[yt,p(e("input",{id:"name","onUpdate:modelValue":t[11]||(t[11]=s=>this.editevent.editTitle=s),type:"text",class:"form-control",placeholder:"Insert Event name"},null,512),[[y,this.editevent.editTitle]])])]),e("div",kt,[e("div",wt,[Et,e("div",Mt,[o(N,{placeholder:"Select date",modelValue:i.editevent.editcalendardates,"onUpdate:modelValue":t[12]||(t[12]=s=>i.editevent.editcalendardates=s),config:i.timeConfig,class:"form-control flatpickr-input",id:"caledate"},null,8,["modelValue","config"]),Ct])])]),e("div",Bt,[e("div",Dt,[Vt,e("div",null,[p(e("input",{type:"text",class:"form-control d-block","onUpdate:modelValue":t[13]||(t[13]=s=>i.editevent.editlocation=s),name:"event-location",id:"event-location",placeholder:"Event location"},null,512),[[y,i.editevent.editlocation]])])])]),St,e("div",Tt,[e("div",Nt,[It,p(e("textarea",{class:"form-control d-block",id:"event-description","onUpdate:modelValue":t[14]||(t[14]=s=>i.editevent.editdescri=s),placeholder:"Enter a description",rows:"3",spellcheck:"false"},null,512),[[y,i.editevent.editdescri]])])])]),e("div",qt,[o(f,{variant:"soft-danger",id:"btn-delete-event",onClick:m.confirm},{default:d(()=>[Pt,c(" Delete")]),_:1},8,["onClick"]),o(f,{variant:"success",type:"submit",id:"btn-save-event"},{default:d(()=>[c("Update Event")]),_:1})])],32)]),_:1},8,["modelValue","title"])]),_:1})}const $t=ie(ne,[["render",Ut]]);export{$t as default};
