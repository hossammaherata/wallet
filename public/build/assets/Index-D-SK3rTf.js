import{i as D,Q as F,T as N,c as E,w as l,o as y,a,u as e,Z as L,G as c,m as f,v as b,f as n,t as i,k as _,V as g,z as h,y as x,h as m,l as P,p as k,A,d as G,Y as I,e as Y}from"./app-BpXjbCMW.js";import{L as H}from"./main-B236rcsx.js";import{P as Q}from"./page-header-DEyyf2_K.js";import{_ as R}from"./card-header-Ct8audyA.js";import"./simplebar-vue.esm-Ds3EkmLx.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"d-flex align-items-center"},$={class:"flex-grow-1"},j={class:"text-muted mb-2"},q={class:"mb-0"},J=n("div",{class:"flex-shrink-0"},[n("div",{class:"avatar-sm"},[n("span",{class:"avatar-title bg-primary-subtle text-primary rounded-circle fs-2"},[n("i",{class:"ri-file-list-3-line"})])])],-1),K={class:"d-flex align-items-center"},M={class:"flex-grow-1"},O={class:"text-muted mb-2"},W={class:"mb-0"},X=n("div",{class:"flex-shrink-0"},[n("div",{class:"avatar-sm"},[n("span",{class:"avatar-title bg-success-subtle text-success rounded-circle fs-2"},[n("i",{class:"ri-coins-line"})])])],-1),ee={class:"mb-4"},te={class:"form-label"},ae={class:"form-label"},se={class:"form-label"},le={class:"form-label"},oe={class:"form-label"},ne=n("label",{class:"form-label d-block"},"Â ",-1),de={key:0,class:"mt-3"},ve={__name:"Index",setup(ie){const{t}=D(),{distributions:p,filters:r,statistics:v}=F().props,o=N({page:1,keyword:(r==null?void 0:r.keyword)||"",event_type:(r==null?void 0:r.event_type)||"",status:(r==null?void 0:r.status)||"",date_from:(r==null?void 0:r.date_from)||"",date_to:(r==null?void 0:r.date_to)||""}),V=(u,d)=>{o.page=d||o.page,o.get(route("admin.prize-distributions.index"),{},{preserveState:!0})},w=()=>{o.page=1,o.get(route("admin.prize-distributions.index"),{},{preserveState:!0})},z=()=>{o.keyword="",o.event_type="",o.status="",o.date_from="",o.date_to="",o.page=1,o.get(route("admin.prize-distributions.index"),{},{preserveState:!0})},S=u=>u?new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",U=u=>({completed:"success",processing:"warning",failed:"danger",pending:"secondary"})[u]||"secondary",B=u=>u==="ugc"?"info":"primary",T=u=>{var d,s;return((d=u.event_meta)==null?void 0:d.title)||((s=u.event_meta)==null?void 0:s.title_ar)||"-"},C=u=>parseFloat(u||0).toFixed(2);return(u,d)=>(y(),E(H,null,{default:l(()=>[a(e(L),{title:e(t)("t-prize-distributions")},null,8,["title"]),a(Q,{title:e(t)("t-prize-distributions"),pageTitle:e(t)("t-dashboards")},null,8,["title","pageTitle"]),a(e(_),null,{default:l(()=>[a(e(c),{lg:"6",class:"mb-4"},{default:l(()=>[a(e(f),null,{default:l(()=>[a(e(b),null,{default:l(()=>{var s;return[n("div",Z,[n("div",$,[n("h6",j,i(e(t)("t-total-distributions")),1),n("h4",q,i(((s=e(v))==null?void 0:s.total_distributions)||0),1)]),J])]}),_:1})]),_:1})]),_:1}),a(e(c),{lg:"6",class:"mb-4"},{default:l(()=>[a(e(f),null,{default:l(()=>[a(e(b),null,{default:l(()=>{var s;return[n("div",K,[n("div",M,[n("h6",O,i(e(t)("t-total-points-awarded")),1),n("h4",W,i(C(((s=e(v))==null?void 0:s.total_points_awarded)||0))+" "+i(e(t)("t-points")),1)]),X])]}),_:1})]),_:1})]),_:1})]),_:1}),a(e(_),null,{default:l(()=>[a(e(c),{lg:"12"},{default:l(()=>[a(e(f),{"no-body":""},{default:l(()=>[a(R,{title:e(t)("t-prize-distributions-list")},null,8,["title"]),a(e(b),null,{default:l(()=>[n("div",ee,[a(e(_),null,{default:l(()=>[a(e(c),{md:"3"},{default:l(()=>[n("label",te,i(e(t)("t-search")),1),a(e(g),{modelValue:e(o).keyword,"onUpdate:modelValue":d[0]||(d[0]=s=>e(o).keyword=s),placeholder:e(t)("t-search-by-event"),class:"mb-2"},null,8,["modelValue","placeholder"])]),_:1}),a(e(c),{md:"2"},{default:l(()=>[n("label",ae,i(e(t)("t-event-type")),1),a(e(h),{modelValue:e(o).event_type,"onUpdate:modelValue":d[1]||(d[1]=s=>e(o).event_type=s),options:[{value:"",text:e(t)("t-all-types")},{value:"ugc",text:e(t)("t-ugc")},{value:"nomination",text:e(t)("t-nomination")}],class:"mb-2"},null,8,["modelValue","options"])]),_:1}),a(e(c),{md:"2"},{default:l(()=>[n("label",se,i(e(t)("t-status")),1),a(e(h),{modelValue:e(o).status,"onUpdate:modelValue":d[2]||(d[2]=s=>e(o).status=s),options:[{value:"",text:e(t)("t-all-statuses")},{value:"completed",text:e(t)("t-completed")},{value:"processing",text:e(t)("t-processing")},{value:"failed",text:e(t)("t-failed")},{value:"pending",text:e(t)("t-pending")}],class:"mb-2"},null,8,["modelValue","options"])]),_:1}),a(e(c),{md:"2"},{default:l(()=>[n("label",le,i(e(t)("t-date-from")),1),a(e(g),{modelValue:e(o).date_from,"onUpdate:modelValue":d[3]||(d[3]=s=>e(o).date_from=s),type:"date",class:"mb-2"},null,8,["modelValue"])]),_:1}),a(e(c),{md:"2"},{default:l(()=>[n("label",oe,i(e(t)("t-date-to")),1),a(e(g),{modelValue:e(o).date_to,"onUpdate:modelValue":d[4]||(d[4]=s=>e(o).date_to=s),type:"date",class:"mb-2"},null,8,["modelValue"])]),_:1}),a(e(c),{md:"1"},{default:l(()=>[ne,a(e(x),{variant:"primary",onClick:w,class:"mb-2 w-100"},{default:l(()=>[m(i(e(t)("t-search")),1)]),_:1})]),_:1})]),_:1}),a(e(_),null,{default:l(()=>[a(e(c),null,{default:l(()=>[a(e(x),{variant:"outline-secondary",size:"sm",onClick:z},{default:l(()=>[m(i(e(t)("t-clear-filters")),1)]),_:1})]),_:1})]),_:1})]),a(e(P),{items:e(p).data,fields:[{key:"event_id",label:e(t)("t-event-id"),sortable:!0},{key:"event_type",label:e(t)("t-type"),sortable:!0},{key:"title",label:e(t)("t-title")},{key:"winners_count",label:e(t)("t-winners")},{key:"processed_count",label:e(t)("t-success")},{key:"failed_count",label:e(t)("t-failed")},{key:"status",label:e(t)("t-status")},{key:"created_at",label:e(t)("t-date"),sortable:!0},{key:"actions",label:e(t)("t-actions")}],striped:"",hover:"",responsive:""},{"cell(event_type)":l(({item:s})=>[a(e(k),{variant:B(s.event_type)},{default:l(()=>[m(i(s.event_type==="ugc"?e(t)("t-ugc"):e(t)("t-nomination")),1)]),_:2},1032,["variant"])]),"cell(title)":l(({item:s})=>[m(i(T(s)),1)]),"cell(status)":l(({item:s})=>[a(e(k),{variant:U(s.status)},{default:l(()=>[m(i(s.status==="completed"?e(t)("t-completed"):s.status==="processing"?e(t)("t-processing"):s.status==="failed"?e(t)("t-failed"):e(t)("t-pending")),1)]),_:2},1032,["variant"])]),"cell(created_at)":l(({item:s})=>[m(i(S(s.created_at)),1)]),"cell(actions)":l(({item:s})=>[a(e(A),{href:u.route("admin.prize-distributions.show",s.id),class:"btn btn-sm btn-primary"},{default:l(()=>[m(i(e(t)("t-view-details")),1)]),_:2},1032,["href"])]),_:1},8,["items","fields"]),e(p).last_page>1?(y(),G("div",de,[a(e(I),{modelValue:e(o).page,"onUpdate:modelValue":d[5]||(d[5]=s=>e(o).page=s),"total-rows":e(p).total,"per-page":e(p).per_page,onPageClick:V},null,8,["modelValue","total-rows","per-page"])])):Y("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ve as default};
