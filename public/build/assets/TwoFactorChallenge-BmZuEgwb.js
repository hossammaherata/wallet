import{b as v,T as A,r,d as c,a as t,u as s,f as e,w as a,F as d,P as I,o as n,Z as L,A as N,h as l,L as b,n as f,t as P,a8 as R}from"./app-BpXjbCMW.js";import{_ as U}from"./logo-light-Bc94pPwb.js";import{_ as x}from"./InputError-jV2YQ5AJ.js";import{_ as w}from"./InputLabel-Bt9-yyqx.js";import{_ as B}from"./TextInput-CyoGix6i.js";const z={class:"auth-page-wrapper pt-5"},D=I('<div class="auth-one-bg-position auth-one-bg" id="auth-particles"><div class="bg-overlay"></div><div class="shape"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1440 120"><path d="M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"></path></svg></div></div>',1),S={class:"auth-page-content"},$={class:"text-center mt-sm-5 mb-4 text-white-50"},j=e("img",{src:U,alt:"",height:"20"},null,-1),E=e("p",{class:"mt-3 fs-15 fw-medium"},"Premium Admin & Dashboard Template",-1),M=e("div",{class:"mb-4"},[e("div",{class:"avatar-lg mx-auto"},[e("div",{class:"avatar-title bg-light text-primary display-5 rounded-circle"},[e("i",{class:"ri-rotate-lock-line"})])])],-1),Y={class:"p-2 mt-4"},Z={class:"text-muted text-center mb-4 mx-lg-3"},q=e("h4",{class:""},"Two Factor Authentication",-1),G={class:"text-sm text-muted"},H={key:0},J={key:1},K={class:"d-flex align-items-center justify-content-end mt-4"},O={class:"footer"},Q={class:"text-center"},W={class:"mb-0 text-muted"},X=e("i",{class:"mdi mdi-heart text-danger"},null,-1),le={__name:"TwoFactorChallenge",setup(ee){const i=v(!1),o=A({code:"",recovery_code:""}),h=v(null),y=v(null),C=async()=>{i.value^=!0,await R(),i.value?(h.value.focus(),o.code=""):(y.value.focus(),o.recovery_code="")},k=()=>{o.post(route("two-factor.login"))};return(te,u)=>{const _=r("BCol"),m=r("BRow"),V=r("BButton"),T=r("BCardBody"),F=r("BCard"),g=r("BContainer");return n(),c(d,null,[t(s(L),{title:"Two Factor Authentication"}),e("div",z,[D,e("div",S,[t(g,null,{default:a(()=>[t(m,null,{default:a(()=>[t(_,{lg:"12"},{default:a(()=>[e("div",$,[e("div",null,[t(s(N),{href:"/",class:"d-inline-block auth-logo"},{default:a(()=>[j]),_:1})]),E])]),_:1})]),_:1}),t(m,{class:"justify-content-center"},{default:a(()=>[t(_,{md:"8",lg:"6",xl:"5"},{default:a(()=>[t(F,{"no-body":"",class:"mt-4"},{default:a(()=>[t(T,{class:"p-4"},{default:a(()=>[M,e("div",Y,[e("div",Z,[q,e("div",G,[i.value?(n(),c(d,{key:1},[l(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(n(),c(d,{key:0},[l(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))])]),e("form",{onSubmit:b(k,["prevent"])},[i.value?(n(),c("div",J,[t(w,{for:"recovery_code",value:"Recovery Code"}),t(B,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:h,modelValue:s(o).recovery_code,"onUpdate:modelValue":u[1]||(u[1]=p=>s(o).recovery_code=p),type:"text",autocomplete:"one-time-code",class:f({"is-invalid":s(o).errors.recovery_code})},null,8,["modelValue","class"]),t(x,{class:"mt-2",message:s(o).errors.recovery_code},null,8,["message"])])):(n(),c("div",H,[t(w,{for:"code",value:"Code"}),t(B,{id:"code",ref_key:"codeInput",ref:y,modelValue:s(o).code,"onUpdate:modelValue":u[0]||(u[0]=p=>s(o).code=p),type:"text",inputmode:"numeric",autofocus:"",placeholder:"Enter the code that you recieve your authenticator app",autocomplete:"one-time-code",class:f({"is-invalid":s(o).errors.code})},null,8,["modelValue","class"]),t(x,{class:"mt-2",message:s(o).errors.code},null,8,["message"])])),e("div",K,[e("button",{type:"button",class:"btn btn-primary me-1",onClick:b(C,["prevent"])},[i.value?(n(),c(d,{key:1},[l(" Use an authentication code ")],64)):(n(),c(d,{key:0},[l(" Use a recovery code ")],64))]),t(V,{variant:"success",type:"submit",class:f({"opacity-25":s(o).processing}),disabled:s(o).processing},{default:a(()=>[l("Log in")]),_:1},8,["class","disabled"])])],32)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),e("footer",O,[t(g,null,{default:a(()=>[t(m,null,{default:a(()=>[t(_,{lg:"12"},{default:a(()=>[e("div",Q,[e("p",W,[l("Â© "+P(new Date().getFullYear())+" Velzon. Crafted with ",1),X,l(" by Themesbrand")])])]),_:1})]),_:1})]),_:1})])])],64)}}};export{le as default};
