import{Q as w,c as m,w as o,o as l,a as n,u as e,Z as C,G as N,m as B,k as A,f as t,p as h,h as p,e as y,d as r,t as d,q as V,n as k,Y as R,l as T,y as f,a5 as D,a6 as z}from"./app-p6nL2sIh.js";import{L as I}from"./main-DD0YxTIO.js";import{P as M}from"./page-header-D_lLMvKR.js";import{S as g}from"./sweetalert2.all-G6W_N5Gt.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./simplebar-vue.esm-Dfq80Hnp.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-BfYujB8V.js";import"./russia-pMTSjNGF.js";const c=u=>(D("data-v-7422a731"),u=u(),z(),u),P={class:"d-flex align-items-center justify-content-between mb-3"},Y=c(()=>t("h5",{class:"card-title mb-0"},"Notifications",-1)),j=c(()=>t("i",{class:"ri-check-double-line me-1"},null,-1)),q={key:0},G={class:"mb-3"},U={class:"text-muted"},E={class:"table-responsive"},F={key:0,class:"badge bg-primary rounded-circle",style:{width:"10px",height:"10px"}},H={key:1,class:"text-muted"},Q={class:"text-muted"},Z=c(()=>t("br",null,null,-1)),$={class:"text-muted"},J=c(()=>t("i",{class:"ri-check-line me-1"},null,-1)),K={key:1,class:"text-muted small"},O={key:0,class:"d-flex justify-content-center mt-3"},W={key:1,class:"text-center py-4"},X=c(()=>t("i",{class:"ri-notification-off-line",style:{"font-size":"48px",color:"#ccc"}},null,-1)),ee=c(()=>t("p",{class:"text-muted mt-3"},"No notifications found",-1)),te=[X,ee],se={__name:"Notifications",setup(u){const{store:ae,notifications:a}=w().props,b=i=>i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",v=(i,_)=>{f.get(route("store.notifications"),{page:_},{preserveState:!0})},x=i=>{f.post(route("store.notifications.read",i),{},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},S=()=>{g.fire({title:"Are you sure?",text:"Mark all notifications as read?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, mark all as read"}).then(i=>{i.isConfirmed&&f.post(route("store.notifications.read-all"),{},{preserveState:!1,preserveScroll:!0,onSuccess:()=>{g.fire({icon:"success",title:"Success!",text:"All notifications marked as read",timer:2e3,showConfirmButton:!1})}})})};return(i,_)=>(l(),m(I,null,{default:o(()=>[n(e(C),{title:"Notifications"}),n(M,{title:"Notifications",pageTitle:"Dashboard"}),n(e(T),null,{default:o(()=>[n(e(N),{lg:"12"},{default:o(()=>[n(e(B),{"no-body":""},{default:o(()=>[n(e(A),null,{default:o(()=>[t("div",P,[Y,e(a)&&e(a).data&&e(a).data.length>0?(l(),m(e(h),{key:0,variant:"primary",size:"sm",onClick:S},{default:o(()=>[j,p(" Mark All as Read ")]),_:1})):y("",!0)]),e(a)&&e(a).data&&e(a).data.length>0?(l(),r("div",q,[t("div",G,[t("span",U,[p("Total Notifications: "),t("strong",null,d(e(a).total),1)])]),t("div",E,[n(e(V),{striped:"",hover:"",items:e(a).data,fields:[{key:"read_status",label:"",sortable:!1},{key:"title",label:"Title",sortable:!1},{key:"body",label:"Message",sortable:!1},{key:"time_ago",label:"Time",sortable:!1},{key:"actions",label:"Actions"}],class:"table-nowrap"},{"cell(read_status)":o(({item:s})=>[s.read?(l(),r("span",H,"âœ“")):(l(),r("span",F))]),"cell(title)":o(({item:s})=>[t("div",null,[t("strong",{class:k(s.read?"text-muted":"")},d(s.title),3)])]),"cell(body)":o(({item:s})=>[t("div",{class:k(s.read?"text-muted":"")},d(s.body),3)]),"cell(time_ago)":o(({item:s})=>[t("div",null,[t("small",Q,d(s.time_ago),1),Z,t("small",$,d(b(s.created_at)),1)])]),"cell(actions)":o(({item:s})=>[s.read?(l(),r("span",K,"Read")):(l(),m(e(h),{key:0,variant:"outline-primary",size:"sm",onClick:oe=>x(s.id)},{default:o(()=>[J,p(" Mark as Read ")]),_:2},1032,["onClick"]))]),_:1},8,["items"])]),e(a).last_page>1?(l(),r("div",O,[n(e(R),{modelValue:e(a).current_page,"onUpdate:modelValue":_[0]||(_[0]=s=>e(a).current_page=s),"total-rows":e(a).total,"per-page":e(a).per_page,onPageClick:v},null,8,["modelValue","total-rows","per-page"])])):y("",!0)])):(l(),r("div",W,te))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},pe=L(se,[["__scopeId","data-v-7422a731"]]);export{pe as default};
