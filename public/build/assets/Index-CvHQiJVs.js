import{Q as y,T as k,r as d,c as S,w as t,o as _,a,u as s,j as p,h as c,f as n,t as l,q as U,d as V,Y as x,e as D}from"./app-DcM7ay-z.js";import{L as v}from"./main-B4G14OJk.js";import{P as T}from"./page-header-DNk6vVyo.js";import{_ as L}from"./card-header-CbzQO_FG.js";import{S as f}from"./sweetalert2.all-BmpLc4DV.js";import"./simplebar-vue.esm-Dw2ZmZ-z.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-BfYujB8V.js";import"./russia-pMTSjNGF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"mb-3"},R={class:"text-muted"},Y={class:"badge bg-success"},P=["onClick"],j={key:0,class:"d-flex justify-content-center mt-3"},J={__name:"Index",setup(A){const{users:o,keyword:g}=y().props,m=k({page:1,keyword:g||""}),u=(r,i)=>{m.page=i||m.page,m.get(route("admin.users.index"),{},{preserveState:!0})},b=r=>{f.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(i=>{i.isConfirmed&&m.delete(route("admin.users.destroy",r),{onSuccess:()=>{f.fire("Deleted!","User has been deleted.","success"),u(null,1)}})})},h=r=>new Date(r).toLocaleDateString("en-US");return(r,i)=>{const w=d("BCard"),B=d("BCol"),C=d("BRow");return _(),S(v,null,{default:t(()=>[a(T,{title:"Users Management",pageTitle:"All Users"},{actions:t(()=>[a(s(p),{href:r.route("admin.users.create"),class:"btn btn-primary"},{default:t(()=>[c(" Create User ")]),_:1},8,["href"])]),_:1}),a(C,null,{default:t(()=>[a(B,{lg:"12"},{default:t(()=>[a(w,{"no-body":""},{default:t(()=>[a(L,{title:"Users List",model:s(m),SearchButton:"true",onGetResourese:u},null,8,["model"]),n("div",N,[n("span",R,[c("Total Users: "),n("strong",null,l(s(o).total),1)])]),a(s(U),{items:s(o).data,fields:["row_number","name","user_name","email","type","created_at","actions"],"per-page":10},{"cell(row_number)":t(({index:e})=>[c(l((s(o).current_page-1)*s(o).per_page+e+1),1)]),"cell(name)":t(e=>[n("span",null,l(e.item.name),1)]),"cell(user_name)":t(e=>[n("span",null,l(e.item.user_name),1)]),"cell(email)":t(e=>[n("span",null,l(e.item.email),1)]),"cell(type)":t(e=>[n("span",Y,l(e.item.type),1)]),"cell(created_at)":t(e=>[n("span",null,l(h(e.item.created_at)),1)]),"cell(actions)":t(e=>[a(s(p),{href:r.route("admin.users.show",e.item.id),class:"btn btn-info btn-sm me-2"},{default:t(()=>[c(" View ")]),_:2},1032,["href"]),a(s(p),{href:r.route("admin.users.edit",e.item.id),class:"btn btn-warning btn-sm me-2"},{default:t(()=>[c(" Edit ")]),_:2},1032,["href"]),n("button",{class:"btn btn-danger btn-sm",onClick:()=>b(e.item.id)}," Delete ",8,P)]),_:1},8,["items"]),s(o).last_page>1?(_(),V("div",j,[a(s(x),{modelValue:s(o).current_page,"onUpdate:modelValue":i[0]||(i[0]=e=>s(o).current_page=e),"total-rows":s(o).total,"per-page":s(o).per_page,onPageClick:u},null,8,["modelValue","total-rows","per-page"])])):D("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}};export{J as default};
