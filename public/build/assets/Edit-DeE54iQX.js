import{x as S,b as T,T as q,c as y,w as o,o as w,a as s,u as e,G as n,m as E,k as C,l as _,f as r,n as d,i as V,y as x,t as c,d as L,e as k,h as b,p as $,j as I}from"./app-Ci_gePMM.js";import{L as N}from"./main--YxdE5xm.js";import{P as O}from"./page-header-CPtLk-rD.js";import{_ as R}from"./card-header-BklXjwih.js";import{_ as j}from"./FormSection-DTATOH3r.js";import{_ as p}from"./InputLabel-D1ZH2hpi.js";import{_ as v}from"./TextInput-k3fN-RYk.js";import{_ as f}from"./InputError-D0GX25sb.js";import{S as U}from"./sweetalert2.all-BAAZBiyd.js";import"./simplebar-vue.esm-Cgad8ciJ.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"mb-3"},z={class:"mb-3"},F={class:"mb-3"},G={class:"mb-3"},K={class:"d-flex gap-4 mt-2"},H={class:"form-check"},M={class:"form-check-label",for:"status_active"},A={class:"form-check"},J={class:"form-check-label",for:"status_suspended"},Q={class:"mb-3"},W={class:"text-muted"},X={key:0,class:"mt-3"},Y=["src"],Z={class:"mb-3"},ee={class:"mb-3"},se={class:"alert alert-info"},ve={__name:"Edit",props:{store:Object},setup(h){const{t:a}=S(),u=h;console.log("Edit Store Data:",u.store),console.log("Profile Photo URL:",u.store.profile_photo_url);const g=T(u.store.profile_photo_url||null),t=q({_method:"PUT",name:u.store.name||"",email:u.store.email||"",phone:u.store.phone||"",status:u.store.status||"active",password:"",password_confirmation:"",photo:null}),P=m=>{const l=m.target.files[0];l&&(t.photo=l,g.value=URL.createObjectURL(l))},B=()=>{const m=document.getElementById("photo");m&&m.files&&m.files[0]&&(t.photo=m.files[0]),t.post(route("admin.stores.update",u.store.id),{preserveScroll:!0,onSuccess:()=>{U.fire({title:a("t-success"),text:a("t-store-updated-successfully"),icon:"success",confirmButtonText:"OK"})},onError:l=>{console.log("Errors:",l),U.fire({title:a("t-error"),text:a("t-something-went-wrong"),icon:"error",confirmButtonText:"OK"})}})};return(m,l)=>(w(),y(N,null,{default:o(()=>[s(O,{title:e(a)("t-edit-store"),pageTitle:e(a)("t-edit-store-information")},null,8,["title","pageTitle"]),s(e(_),null,{default:o(()=>[s(e(n),{lg:"12"},{default:o(()=>[s(e(E),{"no-body":""},{default:o(()=>[s(R,{title:e(a)("t-edit-store-information")},null,8,["title"]),s(e(C),null,{default:o(()=>[s(j,{onSubmitted:B},{form:o(()=>[s(e(_),null,{default:o(()=>[s(e(n),{md:"6"},{default:o(()=>[r("div",D,[s(p,{for:"name",value:e(a)("t-store-name-required")},null,8,["value"]),s(v,{id:"name",modelValue:e(t).name,"onUpdate:modelValue":l[0]||(l[0]=i=>e(t).name=i),type:"text",class:d(["form-control",{"is-invalid":e(t).errors.name}]),required:""},null,8,["modelValue","class"]),s(f,{message:e(t).errors.name},null,8,["message"])])]),_:1}),s(e(n),{md:"6"},{default:o(()=>[r("div",z,[s(p,{for:"phone",value:e(a)("t-phone-required")},null,8,["value"]),s(v,{id:"phone",modelValue:e(t).phone,"onUpdate:modelValue":l[1]||(l[1]=i=>e(t).phone=i),type:"text",class:d(["form-control",{"is-invalid":e(t).errors.phone}]),required:""},null,8,["modelValue","class"]),s(f,{message:e(t).errors.phone},null,8,["message"])])]),_:1})]),_:1}),s(e(_),null,{default:o(()=>[s(e(n),{md:"6"},{default:o(()=>[r("div",F,[s(p,{for:"email",value:e(a)("t-email-label")},null,8,["value"]),s(v,{id:"email",modelValue:e(t).email,"onUpdate:modelValue":l[2]||(l[2]=i=>e(t).email=i),type:"email",class:d(["form-control",{"is-invalid":e(t).errors.email}])},null,8,["modelValue","class"]),s(f,{message:e(t).errors.email},null,8,["message"])])]),_:1}),s(e(n),{md:"6"},{default:o(()=>[r("div",G,[s(p,{value:e(a)("t-status-required")},null,8,["value"]),r("div",K,[r("div",H,[V(r("input",{class:d(["form-check-input",{"is-invalid":e(t).errors.status}]),type:"radio",name:"status",id:"status_active",value:"active","onUpdate:modelValue":l[3]||(l[3]=i=>e(t).status=i)},null,2),[[x,e(t).status]]),r("label",M,c(e(a)("t-active")),1)]),r("div",A,[V(r("input",{class:d(["form-check-input",{"is-invalid":e(t).errors.status}]),type:"radio",name:"status",id:"status_suspended",value:"suspended","onUpdate:modelValue":l[4]||(l[4]=i=>e(t).status=i)},null,2),[[x,e(t).status]]),r("label",J,c(e(a)("t-suspended")),1)])]),s(f,{message:e(t).errors.status},null,8,["message"])])]),_:1})]),_:1}),s(e(_),null,{default:o(()=>[s(e(n),{md:"12"},{default:o(()=>[r("div",Q,[s(p,{for:"photo",value:e(a)("t-profile-photo")},null,8,["value"]),r("input",{type:"file",id:"photo",onChange:P,accept:"image/*",class:d(["form-control",{"is-invalid":e(t).errors.photo}])},null,34),r("small",W,c(e(a)("t-max-size")),1),s(f,{message:e(t).errors.photo},null,8,["message"]),g.value?(w(),L("div",X,[r("img",{src:g.value,alt:"Profile Photo",class:"img-thumbnail",style:{"max-width":"200px","max-height":"200px"}},null,8,Y)])):k("",!0)])]),_:1})]),_:1}),s(e(_),null,{default:o(()=>[s(e(n),{md:"6"},{default:o(()=>[r("div",Z,[s(p,{for:"password",value:e(a)("t-password-leave-blank")},null,8,["value"]),s(v,{id:"password",modelValue:e(t).password,"onUpdate:modelValue":l[5]||(l[5]=i=>e(t).password=i),type:"password",class:d(["form-control",{"is-invalid":e(t).errors.password}])},null,8,["modelValue","class"]),s(f,{message:e(t).errors.password},null,8,["message"])])]),_:1}),s(e(n),{md:"6"},{default:o(()=>[r("div",ee,[s(p,{for:"password_confirmation",value:e(a)("t-confirm-password-required")},null,8,["value"]),s(v,{id:"password_confirmation",modelValue:e(t).password_confirmation,"onUpdate:modelValue":l[6]||(l[6]=i=>e(t).password_confirmation=i),type:"password",class:d(["form-control",{"is-invalid":e(t).errors.password_confirmation}])},null,8,["modelValue","class"]),s(f,{message:e(t).errors.password_confirmation},null,8,["message"])])]),_:1})]),_:1}),h.store.wallet?(w(),y(e(_),{key:0},{default:o(()=>[s(e(n),{md:"12"},{default:o(()=>[r("div",se,[r("strong",null,c(e(a)("t-wallet-balance"))+":",1),b(" "+c(parseFloat(h.store.wallet.balance||0).toFixed(2))+" "+c(e(a)("t-points")),1)])]),_:1})]),_:1})):k("",!0)]),actions:o(()=>[s(e($),{variant:"primary",type:"submit",class:d({"opacity-25":e(t).processing}),disabled:e(t).processing},{default:o(()=>[b(c(e(a)("t-update-store")),1)]),_:1},8,["class","disabled"]),s(e(I),{href:m.route("admin.stores.index"),class:"btn btn-outline-primary ms-2"},{default:o(()=>[b(c(e(a)("t-back-to-stores")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ve as default};
