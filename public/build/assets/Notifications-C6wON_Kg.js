import{x as C,Q as B,c as p,w as l,o as n,a as c,u as t,Z as V,G as N,m as z,k as I,f as s,t as i,p as k,h as f,e as y,d,q as D,n as g,Y as T,l as q,z as h,a6 as A,a7 as L}from"./app-DAJLD3VL.js";import{L as P}from"./main-C4AzBLHy.js";import{P as R}from"./page-header-BZ_NBl-q.js";import{S as b}from"./sweetalert2.all-5hR1i7Q2.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./simplebar-vue.esm-Bl3jGYa5.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";const _=u=>(A("data-v-9361a73b"),u=u(),L(),u),G={class:"d-flex align-items-center justify-content-between mb-3"},U={class:"card-title mb-0"},Y=_(()=>s("i",{class:"ri-check-double-line me-1"},null,-1)),E={key:0},F={class:"mb-3"},H={class:"text-muted"},Q={class:"table-responsive"},Z={key:0,class:"badge bg-primary rounded-circle",style:{width:"10px",height:"10px"}},$={key:1,class:"text-muted"},J={class:"text-muted"},K=_(()=>s("br",null,null,-1)),M={class:"text-muted"},O=_(()=>s("i",{class:"ri-check-line me-1"},null,-1)),W={key:1,class:"text-muted small"},X={key:0,class:"d-flex justify-content-center mt-3"},tt={key:1,class:"text-center py-4"},et=_(()=>s("i",{class:"ri-notification-off-line",style:{"font-size":"48px",color:"#ccc"}},null,-1)),st={class:"text-muted mt-3"},at={__name:"Notifications",setup(u){const{t:e}=C(),{store:ot,notifications:o}=B().props,v=r=>r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",x=(r,m)=>{h.get(route("store.notifications"),{page:m},{preserveState:!0})},S=r=>{h.post(route("store.notifications.read",r),{},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},w=()=>{b.fire({title:e("t-are-you-sure-mark-all"),text:e("t-mark-all-as-read-question"),icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:e("t-yes-mark-all-as-read")}).then(r=>{r.isConfirmed&&h.post(route("store.notifications.read-all"),{},{preserveState:!1,preserveScroll:!0,onSuccess:()=>{b.fire({icon:"success",title:e("t-success"),text:e("t-all-notifications-marked"),timer:2e3,showConfirmButton:!1})}})})};return(r,m)=>(n(),p(P,null,{default:l(()=>[c(t(V),{title:t(e)("t-notifications")},null,8,["title"]),c(R,{title:t(e)("t-notifications"),pageTitle:t(e)("t-store-dashboard")},null,8,["title","pageTitle"]),c(t(q),null,{default:l(()=>[c(t(N),{lg:"12"},{default:l(()=>[c(t(z),{"no-body":""},{default:l(()=>[c(t(I),null,{default:l(()=>[s("div",G,[s("h5",U,i(t(e)("t-notifications")),1),t(o)&&t(o).data&&t(o).data.length>0?(n(),p(t(k),{key:0,variant:"primary",size:"sm",onClick:w},{default:l(()=>[Y,f(" "+i(t(e)("t-mark-all-as-read")),1)]),_:1})):y("",!0)]),t(o)&&t(o).data&&t(o).data.length>0?(n(),d("div",E,[s("div",F,[s("span",H,[f(i(t(e)("t-total-transactions-count"))+": ",1),s("strong",null,i(t(o).total),1)])]),s("div",Q,[c(t(D),{striped:"",hover:"",items:t(o).data,fields:[{key:"read_status",label:"",sortable:!1},{key:"title",label:t(e)("t-title"),sortable:!1},{key:"body",label:t(e)("t-message"),sortable:!1},{key:"time_ago",label:t(e)("t-time"),sortable:!1},{key:"actions",label:t(e)("t-actions")}],class:"table-nowrap"},{"cell(read_status)":l(({item:a})=>[a.read?(n(),d("span",$,"âœ“")):(n(),d("span",Z))]),"cell(title)":l(({item:a})=>[s("div",null,[s("strong",{class:g(a.read?"text-muted":"")},i(a.title),3)])]),"cell(body)":l(({item:a})=>[s("div",{class:g(a.read?"text-muted":"")},i(a.body),3)]),"cell(time_ago)":l(({item:a})=>[s("div",null,[s("small",J,i(a.time_ago),1),K,s("small",M,i(v(a.created_at)),1)])]),"cell(actions)":l(({item:a})=>[a.read?(n(),d("span",W,i(t(e)("t-read")),1)):(n(),p(t(k),{key:0,variant:"outline-primary",size:"sm",onClick:lt=>S(a.id)},{default:l(()=>[O,f(" "+i(t(e)("t-mark-as-read")),1)]),_:2},1032,["onClick"]))]),_:1},8,["items","fields"])]),t(o).last_page>1?(n(),d("div",X,[c(t(T),{modelValue:t(o).current_page,"onUpdate:modelValue":m[0]||(m[0]=a=>t(o).current_page=a),"total-rows":t(o).total,"per-page":t(o).per_page,onPageClick:x},null,8,["modelValue","total-rows","per-page"])])):y("",!0)])):(n(),d("div",tt,[et,s("p",st,i(t(e)("t-no-notifications-found")),1)]))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ft=j(at,[["__scopeId","data-v-9361a73b"]]);export{ft as default};
