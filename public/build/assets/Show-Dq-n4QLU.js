import{i as F,Q as L,c as k,w as s,o as u,a as n,u as t,Z as N,G as c,m as b,v as y,k as p,f as l,t as a,h as d,p as h,d as _,g as x,F as S,n as T,l as V,e as C,A as B}from"./app-BpXjbCMW.js";import{L as A}from"./main-B236rcsx.js";import{P as G}from"./page-header-DEyyf2_K.js";import{_ as D}from"./card-header-Ct8audyA.js";import"./simplebar-vue.esm-Ds3EkmLx.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"mt-2"},E={class:"mb-3"},H={key:0,class:"mt-3"},I={class:"mb-2"},Q={class:"text-success"},U={key:0},Z={key:1,class:"text-muted"},$={key:0},j={key:1},q={key:1,class:"mt-3"},J={class:"text-muted"},K={class:"mt-3"},nt={__name:"Show",setup(M){const{t:e}=F(),{prize:m}=L().props,f=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),g=i=>parseFloat(i||0).toFixed(2),v=i=>({active:"success",completed:"info",cancelled:"danger"})[i]||"secondary",w=i=>({active:e("t-active"),completed:e("t-completed"),cancelled:e("t-cancelled")})[i]||i;return(i,z)=>(u(),k(A,null,{default:s(()=>[n(t(N),{title:t(e)("t-prize-details")},null,8,["title"]),n(G,{title:t(e)("t-prize-details"),pageTitle:t(e)("t-prizes-management"),href:i.route("admin.prizes.index")},null,8,["title","pageTitle","href"]),n(t(p),null,{default:s(()=>[n(t(c),{lg:"12"},{default:s(()=>[n(t(b),{"no-body":"",class:"mb-4"},{default:s(()=>[n(D,{title:t(e)("t-prize-information")},null,8,["title"]),n(t(y),null,{default:s(()=>[n(t(p),null,{default:s(()=>[n(t(c),{md:"6"},{default:s(()=>[l("strong",null,a(t(e)("t-prize-name"))+":",1),d(" "+a(t(m).name),1)]),_:1}),n(t(c),{md:"3"},{default:s(()=>[l("strong",null,a(t(e)("t-total-winners-count"))+":",1),d(" "+a(t(m).total_winners),1)]),_:1}),n(t(c),{md:"3"},{default:s(()=>[l("strong",null,a(t(e)("t-total-amount"))+":",1),d(" "+a(g(t(m).total_amount))+" "+a(t(e)("t-points")),1)]),_:1})]),_:1}),n(t(p),{class:"mt-3"},{default:s(()=>[n(t(c),{md:"6"},{default:s(()=>[l("strong",null,a(t(e)("t-prize-status"))+":",1),n(t(h),{variant:v(t(m).status),class:"ms-2"},{default:s(()=>[d(a(w(t(m).status)),1)]),_:1},8,["variant"])]),_:1}),n(t(c),{md:"6"},{default:s(()=>[l("strong",null,a(t(e)("t-created-at"))+":",1),d(" "+a(f(t(m).created_at)),1)]),_:1})]),_:1}),n(t(p),{class:"mt-3"},{default:s(()=>[n(t(c),{md:"12"},{default:s(()=>[l("strong",null,a(t(e)("t-available-dates"))+":",1),l("div",P,[(u(!0),_(S,null,x(t(m).dates,(r,o)=>(u(),_("span",{key:o,class:"badge bg-info me-2"},a(f(r)),1))),128))])]),_:1})]),_:1})]),_:1})]),_:1}),t(m).tickets&&t(m).tickets.length>0?(u(),k(t(b),{key:0,"no-body":"",class:"mb-4"},{default:s(()=>[n(D,{title:t(e)("t-tickets")},null,8,["title"]),n(t(y),null,{default:s(()=>[(u(!0),_(S,null,x(t(m).tickets,r=>(u(),_("div",{key:r.id,class:"mb-4"},[n(t(b),{"no-body":"",class:"border"},{default:s(()=>[n(t(y),null,{default:s(()=>[n(t(p),{class:"mb-3"},{default:s(()=>[n(t(c),{md:"12"},{default:s(()=>[l("h5",E,[d(a(t(e)("t-ticket-date"))+": "+a(f(r.date))+" ",1),n(t(h),{variant:v(r.status),class:"ms-2"},{default:s(()=>[d(a(w(r.status)),1)]),_:2},1032,["variant"])])]),_:2},1024)]),_:2},1024),n(t(p),{class:"mb-3"},{default:s(()=>[n(t(c),{md:"3"},{default:s(()=>[l("strong",null,a(t(e)("t-total-winners-count"))+":",1),d(" "+a(r.total_winners),1)]),_:2},1024),n(t(c),{md:"3"},{default:s(()=>[l("strong",null,a(t(e)("t-current-winners"))+":",1),d(" "+a(r.current_winners_count),1)]),_:2},1024),n(t(c),{md:"3"},{default:s(()=>[l("strong",null,a(t(e)("t-total-amount"))+":",1),d(" "+a(g(r.total_amount))+" "+a(t(e)("t-points")),1)]),_:2},1024),n(t(c),{md:"3"},{default:s(()=>[l("strong",null,a(t(e)("t-remaining-amount"))+":",1),l("span",{class:T(r.remaining_amount>0?"text-success":"text-danger")},a(g(r.remaining_amount))+" "+a(t(e)("t-points")),3)]),_:2},1024)]),_:2},1024),r.winners&&r.winners.length>0?(u(),_("div",H,[l("h6",I,a(t(e)("t-winners-list"))+":",1),n(t(V),{items:r.winners,fields:[{key:"phone",label:t(e)("t-winner-phone")},{key:"user.name",label:t(e)("t-winner-name")},{key:"prize_amount",label:t(e)("t-prize-amount")},{key:"added_by.name",label:t(e)("t-added-by")},{key:"transaction_id",label:t(e)("t-transaction-number")},{key:"status",label:t(e)("t-prize-status")},{key:"created_at",label:t(e)("t-added-date")}],striped:"",hover:"",responsive:"",small:""},{"cell(prize_amount)":s(({item:o})=>[l("strong",Q,a(g(o.prize_amount))+" "+a(t(e)("t-points")),1)]),"cell(added_by.name)":s(({item:o})=>[o.added_by?(u(),_("span",U,a(o.added_by.name),1)):(u(),_("span",Z,"-"))]),"cell(transaction_id)":s(({item:o})=>[o.transaction_id?(u(),_("span",$,"#"+a(o.transaction_id),1)):(u(),_("span",j,"-"))]),"cell(status)":s(({item:o})=>[n(t(h),{variant:o.status==="success"?"success":"danger"},{default:s(()=>[d(a(o.status==="success"?t(e)("t-success"):t(e)("t-failed")),1)]),_:2},1032,["variant"])]),"cell(created_at)":s(({item:o})=>[d(a(f(o.created_at)),1)]),_:2},1032,["items","fields"])])):(u(),_("div",q,[l("p",J,a(t(e)("t-no-winners-yet")),1)]))]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1})):C("",!0),l("div",K,[n(t(B),{href:i.route("admin.prizes.index"),class:"btn btn-secondary"},{default:s(()=>[d(a(t(e)("t-back-to-list")),1)]),_:1},8,["href"]),n(t(B),{href:i.route("admin.prizes.edit",t(m).id),class:"btn btn-warning ms-2"},{default:s(()=>[d(a(t(e)("t-edit")),1)]),_:1},8,["href"])])]),_:1})]),_:1})]),_:1}))}};export{nt as default};
