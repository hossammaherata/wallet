import{L as S}from"./main-B236rcsx.js";import{P as T}from"./page-header-DEyyf2_K.js";import{_ as v}from"./card-header-Ct8audyA.js";import{i as E,Q as V,c as i,w as a,o as d,a as l,u as t,A as $,h as b,t as o,G as c,m as x,v as k,k as _,f as e,d as y,e as m,p as I,y as g,q as h}from"./app-BpXjbCMW.js";import{S as u}from"./sweetalert2.all-BXeenfYg.js";import"./simplebar-vue.esm-Ds3EkmLx.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"mb-3"},R={class:"form-label fw-semibold"},D={key:0,class:"form-control-plaintext"},A=e("br",null,null,-1),F={class:"text-muted"},L={key:1,class:"form-control-plaintext text-muted"},M={class:"mb-3"},G={class:"form-label fw-semibold"},P={class:"form-control-plaintext"},H={class:"h4 text-primary fw-bold"},Q={class:"mb-3"},U={class:"form-label fw-semibold"},z={class:"form-control-plaintext"},J={class:"h5 text-danger fw-bold"},K={class:"mb-3"},O={class:"form-label fw-semibold"},W={class:"form-control-plaintext"},X={class:"h5 text-success fw-bold"},Y={class:"mb-3"},Z={class:"form-label fw-semibold"},tt={class:"form-control-plaintext"},et={class:"mb-3"},st={class:"form-label fw-semibold"},at={class:"form-control-plaintext"},ot={class:"mb-3"},lt={class:"form-label fw-semibold"},nt={class:"form-control-plaintext"},rt={class:"mb-3"},ct={class:"form-label fw-semibold"},dt={class:"form-control-plaintext"},it={class:"mb-3"},_t={class:"form-label fw-semibold"},mt={class:"form-control-plaintext"},ut={class:"mb-3"},ft={class:"form-label fw-semibold"},pt={class:"form-control-plaintext"},bt={class:"mb-3"},ht={class:"form-label fw-semibold"},wt={class:"form-control-plaintext"},vt={class:"d-flex gap-2 mt-3"},xt={class:"mb-3"},kt={class:"form-label fw-semibold"},yt={class:"form-control-plaintext"},gt={class:"mb-3"},qt={class:"form-label fw-semibold"},Bt={class:"form-control-plaintext"},Ct={class:"mb-3"},jt={class:"form-label fw-semibold"},St={class:"form-control-plaintext"},Tt={class:"mb-3"},Et=e("label",{class:"form-label fw-semibold"},"IBAN",-1),Vt={class:"form-control-plaintext"},$t={class:"mb-3"},It={class:"form-label fw-semibold"},Nt={class:"form-control-plaintext"},Rt={class:"mb-3"},Dt={class:"form-label fw-semibold"},At={class:"form-control-plaintext"},Ft={class:"mb-3"},Lt={class:"form-label fw-semibold"},Mt={class:"form-control-plaintext"},Yt={__name:"Show",setup(Gt){const{t:s}=E(),{withdrawalRequest:n}=V().props,p=r=>r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",w=r=>parseFloat(r||0).toFixed(2),q=r=>({pending:"warning",approved:"success",rejected:"danger",cancelled:"secondary"})[r]||"secondary",B=r=>({pending:s("t-pending"),approved:s("t-approved"),rejected:s("t-rejected"),cancelled:s("t-cancelled")})[r]||r,C=()=>{u.fire({title:s("t-approve-request"),html:`
            <div class="text-start">
                <label class="form-label">${s("t-admin-notes")} (${s("t-note-optional")})</label>
                <textarea id="admin-notes" class="form-control" rows="3" placeholder="${s("t-note-optional")}"></textarea>
            </div>
        `,icon:"question",showCancelButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#6c757d",confirmButtonText:s("t-approve"),cancelButtonText:s("t-cancel"),preConfirm:()=>({admin_notes:document.getElementById("admin-notes").value})}).then(r=>{r.isConfirmed&&h.post(route("admin.withdrawal-requests.approve",n.id),{admin_notes:r.value.admin_notes},{preserveState:!1,preserveScroll:!0,onSuccess:()=>{u.fire({icon:"success",title:s("t-success"),text:s("t-request-approved"),timer:2e3,showConfirmButton:!1}).then(()=>{h.reload({only:["withdrawalRequest"]})})},onError:f=>{u.fire(s("t-error"),f.message||s("t-an-error-occurred"),"error")}})})},j=()=>{u.fire({title:s("t-reject-request"),html:`
            <div class="text-start">
                <label class="form-label">${s("t-admin-notes")} *</label>
                <textarea id="admin-notes" class="form-control" rows="3" placeholder="${s("t-enter-rejection-reason")}" required></textarea>
            </div>
        `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:s("t-reject"),cancelButtonText:s("t-cancel"),inputValidator:r=>{if(!document.getElementById("admin-notes").value.trim())return s("t-notes-required")},preConfirm:()=>{const r=document.getElementById("admin-notes").value.trim();return r?{admin_notes:r}:(u.showValidationMessage(s("t-notes-required")),!1)}}).then(r=>{r.isConfirmed&&h.post(route("admin.withdrawal-requests.reject",n.id),{admin_notes:r.value.admin_notes},{preserveState:!1,preserveScroll:!0,onSuccess:()=>{u.fire({icon:"success",title:s("t-success"),text:s("t-request-rejected"),timer:2e3,showConfirmButton:!1}).then(()=>{h.reload({only:["withdrawalRequest"]})})},onError:f=>{u.fire(s("t-error"),f.message||s("t-an-error-occurred"),"error")}})})};return(r,f)=>(d(),i(S,null,{default:a(()=>[l(T,{title:t(s)("t-withdrawal-request-details")||"تفاصيل طلب السحب",pageTitle:t(s)("t-withdrawal-requests"),href:r.route("admin.withdrawal-requests.index")},{actions:a(()=>[l(t($),{href:r.route("admin.withdrawal-requests.index"),class:"btn btn-outline-primary"},{default:a(()=>[b(o(t(s)("t-back-to-list")),1)]),_:1},8,["href"])]),_:1},8,["title","pageTitle","href"]),l(t(_),null,{default:a(()=>[l(t(c),{lg:"12"},{default:a(()=>[l(t(x),{"no-body":""},{default:a(()=>[l(v,{title:t(s)("t-withdrawal-request-information")||t(s)("t-user-information")},null,8,["title"]),l(t(k),null,{default:a(()=>[l(t(_),null,{default:a(()=>[l(t(c),{md:"6"},{default:a(()=>[e("div",N,[e("label",R,o(t(s)("t-user")),1),t(n).user?(d(),y("p",D,[e("strong",null,o(t(n).user.name),1),A,e("small",F,o(t(n).user.phone),1)])):(d(),y("p",L,"-"))])]),_:1}),l(t(c),{md:"6"},{default:a(()=>[e("div",M,[e("label",G,o(t(s)("t-amount")),1),e("p",P,[e("span",H,o(w(t(n).amount))+" "+o(t(s)("t-points")),1)])])]),_:1}),t(n).fee>0?(d(),i(t(c),{key:0,md:"6"},{default:a(()=>[e("div",Q,[e("label",U,o(t(s)("t-fee")),1),e("p",z,[e("span",J,o(w(t(n).fee))+" "+o(t(s)("t-points")),1)])])]),_:1})):m("",!0),t(n).fee>0?(d(),i(t(c),{key:1,md:"6"},{default:a(()=>[e("div",K,[e("label",O,o(t(s)("t-net-amount")),1),e("p",W,[e("span",X,o(w(t(n).amount-t(n).fee))+" "+o(t(s)("t-points")),1)])])]),_:1})):m("",!0)]),_:1}),l(t(_),null,{default:a(()=>[l(t(c),{md:"6"},{default:a(()=>[e("div",Y,[e("label",Z,o(t(s)("t-status")),1),e("p",tt,[l(t(I),{variant:q(t(n).status)},{default:a(()=>[b(o(B(t(n).status)),1)]),_:1},8,["variant"])])])]),_:1}),l(t(c),{md:"6"},{default:a(()=>[e("div",et,[e("label",st,o(t(s)("t-created-at")),1),e("p",at,o(p(t(n).created_at)),1)])]),_:1})]),_:1}),t(n).approved_at?(d(),i(t(_),{key:0},{default:a(()=>[l(t(c),{md:"6"},{default:a(()=>[e("div",ot,[e("label",lt,o(t(s)("t-approved-at")||"تاريخ الموافقة"),1),e("p",nt,o(p(t(n).approved_at)),1)])]),_:1}),t(n).admin?(d(),i(t(c),{key:0,md:"6"},{default:a(()=>[e("div",rt,[e("label",ct,o(t(s)("t-approved-by")||"موافق عليه من قبل"),1),e("p",dt,o(t(n).admin.name),1)])]),_:1})):m("",!0)]),_:1})):m("",!0),t(n).rejected_at?(d(),i(t(_),{key:1},{default:a(()=>[l(t(c),{md:"6"},{default:a(()=>[e("div",it,[e("label",_t,o(t(s)("t-rejected-at")||"تاريخ الرفض"),1),e("p",mt,o(p(t(n).rejected_at)),1)])]),_:1}),t(n).admin?(d(),i(t(c),{key:0,md:"6"},{default:a(()=>[e("div",ut,[e("label",ft,o(t(s)("t-rejected-by")||"مرفوض من قبل"),1),e("p",pt,o(t(n).admin.name),1)])]),_:1})):m("",!0)]),_:1})):m("",!0),t(n).admin_notes?(d(),i(t(_),{key:2},{default:a(()=>[l(t(c),{md:"12"},{default:a(()=>[e("div",bt,[e("label",ht,o(t(s)("t-admin-notes")),1),e("p",wt,o(t(n).admin_notes),1)])]),_:1})]),_:1})):m("",!0),t(n).status==="pending"?(d(),i(t(_),{key:3},{default:a(()=>[l(t(c),{md:"12"},{default:a(()=>[e("div",vt,[l(t(g),{variant:"success",onClick:C},{default:a(()=>[b(o(t(s)("t-approve")),1)]),_:1}),l(t(g),{variant:"danger",onClick:j},{default:a(()=>[b(o(t(s)("t-reject")),1)]),_:1})])]),_:1})]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),t(n).bank_account?(d(),i(t(_),{key:0,class:"mt-4"},{default:a(()=>[l(t(c),{lg:"12"},{default:a(()=>[l(t(x),{"no-body":""},{default:a(()=>[l(v,{title:t(s)("t-bank-account-information")||t(s)("t-bank-account")},null,8,["title"]),l(t(k),null,{default:a(()=>[l(t(_),null,{default:a(()=>[l(t(c),{md:"6"},{default:a(()=>[e("div",xt,[e("label",kt,o(t(s)("t-bank-name")),1),e("p",yt,o(t(n).bank_account.bank_name),1)])]),_:1}),l(t(c),{md:"6"},{default:a(()=>[e("div",gt,[e("label",qt,o(t(s)("t-account-number")),1),e("p",Bt,o(t(n).bank_account.account_number),1)])]),_:1})]),_:1}),l(t(_),null,{default:a(()=>[l(t(c),{md:"6"},{default:a(()=>[e("div",Ct,[e("label",jt,o(t(s)("t-account-holder-name")),1),e("p",St,o(t(n).bank_account.account_holder_name),1)])]),_:1}),t(n).bank_account.iban?(d(),i(t(c),{key:0,md:"6"},{default:a(()=>[e("div",Tt,[Et,e("p",Vt,o(t(n).bank_account.iban),1)])]),_:1})):m("",!0)]),_:1}),t(n).bank_account.branch_name?(d(),i(t(_),{key:0},{default:a(()=>[l(t(c),{md:"6"},{default:a(()=>[e("div",$t,[e("label",It,o(t(s)("t-branch-name")),1),e("p",Nt,o(t(n).bank_account.branch_name),1)])]),_:1})]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):m("",!0),t(n).wallet_transaction?(d(),i(t(_),{key:1,class:"mt-4"},{default:a(()=>[l(t(c),{lg:"12"},{default:a(()=>[l(t(x),{"no-body":""},{default:a(()=>[l(v,{title:t(s)("t-transaction-information")},null,8,["title"]),l(t(k),null,{default:a(()=>[l(t(_),null,{default:a(()=>[l(t(c),{md:"6"},{default:a(()=>[e("div",Rt,[e("label",Dt,o(t(s)("t-reference-id")),1),e("p",At,[e("code",null,o(t(n).wallet_transaction.reference_id),1)])])]),_:1}),l(t(c),{md:"6"},{default:a(()=>[e("div",Ft,[e("label",Lt,o(t(s)("t-date")),1),e("p",Mt,o(p(t(n).wallet_transaction.created_at)),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):m("",!0)]),_:1}))}};export{Yt as default};
