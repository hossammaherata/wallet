import{i as Q,Q as Z,j as k,r as $,c as x,w as s,o as i,a,u as t,Z as J,G as c,z as K,k as g,m as u,v as _,f as e,t as n,p as w,h as v,d as h,l as U,q as M,s as R,x as X}from"./app-BpXjbCMW.js";import{L as Y}from"./main-B236rcsx.js";import{P as tt}from"./page-header-DEyyf2_K.js";import{_ as y}from"./card-header-Ct8audyA.js";import{g as z}from"./getChartColorsArray-DXKIp7ac.js";import{_ as et}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./simplebar-vue.esm-Ds3EkmLx.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";const f=O=>(R("data-v-059b5437"),O=O(),X(),O),st=f(()=>e("option",{value:7},"آخر 7 أيام",-1)),at=f(()=>e("option",{value:30},"آخر 30 يوم",-1)),lt=f(()=>e("option",{value:60},"آخر 60 يوم",-1)),nt=f(()=>e("option",{value:90},"آخر 90 يوم",-1)),ot=f(()=>e("option",{value:365},"آخر سنة",-1)),rt={class:"d-flex align-items-center"},dt={class:"flex-grow-1"},it={class:"text-uppercase fw-medium text-muted mb-0"},ct={class:"fs-22 fw-semibold mb-0"},ut={class:"counter-value"},_t=f(()=>e("div",{class:"flex-shrink-0"},[e("div",{class:"avatar-sm bg-primary-subtle rounded"},[e("span",{class:"avatar-title bg-primary rounded fs-18"},[e("i",{class:"ri-user-line"})])])],-1)),pt={class:"mt-3"},mt={class:"d-flex align-items-center"},ft={class:"flex-grow-1"},ht={class:"text-uppercase fw-medium text-muted mb-0"},vt={class:"fs-22 fw-semibold mb-0"},bt={class:"counter-value"},gt=f(()=>e("div",{class:"flex-shrink-0"},[e("div",{class:"avatar-sm bg-success-subtle rounded"},[e("span",{class:"avatar-title bg-success rounded fs-18"},[e("i",{class:"ri-store-line"})])])],-1)),yt={class:"mt-3"},xt={class:"d-flex align-items-center"},wt={class:"flex-grow-1"},kt={class:"text-uppercase fw-medium text-muted mb-0"},zt={class:"fs-22 fw-semibold mb-0"},Ot={class:"counter-value"},St=f(()=>e("div",{class:"flex-shrink-0"},[e("div",{class:"avatar-sm bg-info-subtle rounded"},[e("span",{class:"avatar-title bg-info rounded fs-18"},[e("i",{class:"ri-exchange-line"})])])],-1)),Bt={class:"mt-3"},Ct={class:"mb-0 text-muted"},Tt={class:"text-success me-2"},Ft={class:"d-flex align-items-center"},Nt={class:"flex-grow-1"},It={class:"text-uppercase fw-medium text-muted mb-0"},Lt={class:"fs-22 fw-semibold mb-0"},Dt={class:"counter-value text-danger"},jt={class:"text-muted fs-14 ms-1"},Vt=f(()=>e("div",{class:"flex-shrink-0"},[e("div",{class:"avatar-sm bg-danger-subtle rounded"},[e("span",{class:"avatar-title bg-danger rounded fs-18"},[e("i",{class:"ri-money-dollar-circle-line"})])])],-1)),qt={class:"mt-3"},Ut={class:"mb-0 text-muted"},At={class:"d-flex align-items-center"},Gt={class:"flex-grow-1"},Pt={class:"text-uppercase fw-medium text-muted mb-0"},Wt={class:"fs-22 fw-semibold mb-0"},Et={class:"counter-value"},Ht=f(()=>e("div",{class:"flex-shrink-0"},[e("div",{class:"avatar-sm bg-warning-subtle rounded"},[e("span",{class:"avatar-title bg-warning rounded fs-18"},[e("i",{class:"ri-bank-line"})])])],-1)),Qt={class:"mt-3"},Zt={class:"mb-0 text-muted"},$t={class:"text-primary"},Jt={key:1,class:"text-center text-muted"},Kt={key:1,class:"text-center text-muted"},Mt={key:1,class:"text-center text-muted"},Rt={key:1,class:"text-center text-muted"},Xt={key:1,class:"text-center text-muted"},Yt={class:"table-responsive"},te={class:"small"},ee={key:0,class:"text-danger"},se={key:1,class:"text-muted"},ae={class:"table-responsive"},le={key:0,class:"text-danger"},ne={key:1,class:"text-muted"},oe={__name:"Index",setup(O){const{t:l}=Q(),{stats:p,transactionsByType:j,transactionsByStatus:V,withdrawalsByStatus:C,transactionsOverTime:T,usersOverTime:q,recentTransactions:A,recentWithdrawals:G,days:P}=Z().props,S=d=>new Intl.NumberFormat("en-US").format(d||0),b=d=>parseFloat(d||0).toFixed(2),B=d=>d?new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",F=k(()=>{const d=j.map(r=>({purchase:l("t-purchase")||"شراء",transfer:l("t-transfer")||"تحويل",withdrawal:l("t-withdrawal-requests")||"سحب",credit:l("t-credit")||"إضافة",debit:l("t-debit")||"خصم",refund:l("t-refund")||"استرداد"})[r.type]||r.type);return{series:j.map(r=>r.count),chartOptions:{chart:{height:350,type:"pie"},labels:d,legend:{position:"bottom"},colors:z('["--vz-primary", "--vz-success", "--vz-warning", "--vz-danger", "--vz-info", "--vz-secondary"]'),dataLabels:{enabled:!0,formatter:function(r){return r.toFixed(1)+"%"}}}}}),N=k(()=>{const d=V.map(r=>({success:l("t-success")||"نجح",pending:l("t-pending")||"قيد الانتظار",failed:l("t-failed")||"فشل"})[r.status]||r.status);return{series:V.map(r=>r.count),chartOptions:{chart:{height:350,type:"donut"},labels:d,legend:{position:"bottom"},colors:z('["--vz-success", "--vz-warning", "--vz-danger"]'),dataLabels:{enabled:!0,formatter:function(r){return r.toFixed(1)+"%"}}}}}),I=k(()=>{const d=T.map(o=>B(o.date)),m=T.map(o=>parseFloat(o.total_amount)),r=T.map(o=>parseFloat(o.total_fee));return{series:[{name:l("t-amount")||"المبلغ",data:m},{name:l("t-fee")||"الرسوم",data:r}],chartOptions:{chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},xaxis:{categories:d},colors:z('["--vz-primary", "--vz-danger"]'),legend:{position:"top"},grid:{borderColor:"#f1f1f1"}}}}),L=k(()=>{const d=q.map(r=>B(r.date)),m=q.map(r=>r.count);return{series:[{name:l("t-users")||"المستخدمين",data:m}],chartOptions:{chart:{height:350,type:"area",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},xaxis:{categories:d},colors:z('["--vz-success"]'),fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},grid:{borderColor:"#f1f1f1"}}}}),D=k(()=>{const d=C.map(o=>({pending:l("t-pending")||"قيد الانتظار",approved:l("t-approved")||"موافق عليها",rejected:l("t-rejected")||"مرفوضة",cancelled:l("t-cancelled")||"ملغاة"})[o.status]||o.status),m=C.map(o=>parseFloat(o.total_amount)),r=C.map(o=>parseFloat(o.total_fee));return{series:[{name:l("t-amount")||"المبلغ",data:m},{name:l("t-fee")||"الرسوم",data:r}],chartOptions:{chart:{height:350,type:"bar"},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:d},colors:z('["--vz-primary", "--vz-danger"]'),fill:{opacity:1},legend:{position:"top"},grid:{borderColor:"#f1f1f1"}}}}),W=d=>{M.get(route("admin.dashboard"),{days:d},{preserveState:!0})},E=d=>({success:"success",pending:"warning",failed:"danger",approved:"success",rejected:"danger",cancelled:"secondary"})[d]||"secondary",H=d=>({purchase:"primary",transfer:"info",withdrawal:"warning",credit:"success",debit:"danger",refund:"secondary"})[d]||"secondary";return(d,m)=>{const r=$("apexchart");return i(),x(Y,null,{default:s(()=>[a(t(J),{title:t(l)("t-dashboards")},null,8,["title"]),a(tt,{title:t(l)("t-dashboards"),pageTitle:t(l)("t-dashboards")},null,8,["title","pageTitle"]),a(t(g),{class:"mb-3"},{default:s(()=>[a(t(c),{md:"12",class:"text-end"},{default:s(()=>[a(t(K),{"model-value":t(P),"onUpdate:modelValue":W,style:{width:"200px",display:"inline-block"}},{default:s(()=>[st,at,lt,nt,ot]),_:1},8,["model-value"])]),_:1})]),_:1}),a(t(g),null,{default:s(()=>[a(t(c),{xl:"3",md:"6"},{default:s(()=>[a(t(u),{"no-body":"",class:"card-animate"},{default:s(()=>[a(t(_),null,{default:s(()=>[e("div",rt,[e("div",dt,[e("p",it,n(t(l)("t-users")),1),e("h4",ct,[e("span",ut,n(S(t(p).total_users)),1)])]),_t]),e("div",pt,[a(t(w),{variant:"success",class:"me-1"},{default:s(()=>[v(n(t(p).active_users)+" "+n(t(l)("t-active")),1)]),_:1}),a(t(w),{variant:"warning",class:"me-1"},{default:s(()=>[v(n(t(p).suspended_users)+" "+n(t(l)("t-suspended")),1)]),_:1})])]),_:1})]),_:1})]),_:1}),a(t(c),{xl:"3",md:"6"},{default:s(()=>[a(t(u),{"no-body":"",class:"card-animate"},{default:s(()=>[a(t(_),null,{default:s(()=>[e("div",mt,[e("div",ft,[e("p",ht,n(t(l)("t-stores")),1),e("h4",vt,[e("span",bt,n(S(t(p).total_stores)),1)])]),gt]),e("div",yt,[a(t(w),{variant:"success"},{default:s(()=>[v(n(t(p).active_stores)+" "+n(t(l)("t-active")),1)]),_:1})])]),_:1})]),_:1})]),_:1}),a(t(c),{xl:"3",md:"6"},{default:s(()=>[a(t(u),{"no-body":"",class:"card-animate"},{default:s(()=>[a(t(_),null,{default:s(()=>[e("div",xt,[e("div",wt,[e("p",kt,n(t(l)("t-transactions")),1),e("h4",zt,[e("span",Ot,n(S(t(p).total_transactions)),1)])]),St]),e("div",Bt,[e("p",Ct,[e("span",Tt,n(b(t(p).total_transactions_amount))+" "+n(t(l)("t-points")),1)])])]),_:1})]),_:1})]),_:1}),a(t(c),{xl:"3",md:"6"},{default:s(()=>[a(t(u),{"no-body":"",class:"card-animate"},{default:s(()=>[a(t(_),null,{default:s(()=>[e("div",Ft,[e("div",Nt,[e("p",It,n(t(l)("t-fee")),1),e("h4",Lt,[e("span",Dt,n(b(t(p).total_fees_collected)),1),e("span",jt,n(t(l)("t-points")),1)])]),Vt]),e("div",qt,[e("p",Ut,[e("small",null,n(t(l)("t-total-fees-collected")||"إجمالي الرسوم المحصلة"),1)])])]),_:1})]),_:1})]),_:1})]),_:1}),a(t(g),null,{default:s(()=>[a(t(c),{xl:"3",md:"6"},{default:s(()=>[a(t(u),{"no-body":"",class:"card-animate"},{default:s(()=>[a(t(_),null,{default:s(()=>[e("div",At,[e("div",Gt,[e("p",Pt,n(t(l)("t-withdrawal-requests")),1),e("h4",Wt,[e("span",Et,n(S(t(p).total_withdrawals)),1)])]),Ht]),e("div",Qt,[e("p",Zt,[e("span",$t,n(b(t(p).total_withdrawals_amount))+" "+n(t(l)("t-points")),1),a(t(w),{variant:"warning",class:"ms-2"},{default:s(()=>[v(n(t(p).pending_withdrawals)+" "+n(t(l)("t-pending")),1)]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1}),a(t(g),null,{default:s(()=>[a(t(c),{xl:"6"},{default:s(()=>[a(t(u),{"no-body":""},{default:s(()=>[a(y,{title:t(l)("t-transactions-by-type")||"المعاملات حسب النوع"},null,8,["title"]),a(t(_),null,{default:s(()=>[F.value.series.length>0?(i(),x(r,{key:0,class:"apex-charts",height:"350",dir:"ltr",series:F.value.series,options:F.value.chartOptions},null,8,["series","options"])):(i(),h("p",Jt,n(t(l)("t-no-data")||"لا توجد بيانات"),1))]),_:1})]),_:1})]),_:1}),a(t(c),{xl:"6"},{default:s(()=>[a(t(u),{"no-body":""},{default:s(()=>[a(y,{title:t(l)("t-transactions-by-status")||"المعاملات حسب الحالة"},null,8,["title"]),a(t(_),null,{default:s(()=>[N.value.series.length>0?(i(),x(r,{key:0,class:"apex-charts",height:"350",dir:"ltr",series:N.value.series,options:N.value.chartOptions},null,8,["series","options"])):(i(),h("p",Kt,n(t(l)("t-no-data")||"لا توجد بيانات"),1))]),_:1})]),_:1})]),_:1})]),_:1}),a(t(g),null,{default:s(()=>[a(t(c),{xl:"8"},{default:s(()=>[a(t(u),{"no-body":""},{default:s(()=>[a(y,{title:t(l)("t-transactions-over-time")||"المعاملات عبر الزمن"},null,8,["title"]),a(t(_),null,{default:s(()=>[I.value.series[0].data.length>0?(i(),x(r,{key:0,class:"apex-charts",height:"350",dir:"ltr",series:I.value.series,options:I.value.chartOptions},null,8,["series","options"])):(i(),h("p",Mt,n(t(l)("t-no-data")||"لا توجد بيانات"),1))]),_:1})]),_:1})]),_:1}),a(t(c),{xl:"4"},{default:s(()=>[a(t(u),{"no-body":""},{default:s(()=>[a(y,{title:t(l)("t-new-users")||"المستخدمين الجدد"},null,8,["title"]),a(t(_),null,{default:s(()=>[L.value.series[0].data.length>0?(i(),x(r,{key:0,class:"apex-charts",height:"350",dir:"ltr",series:L.value.series,options:L.value.chartOptions},null,8,["series","options"])):(i(),h("p",Rt,n(t(l)("t-no-data")||"لا توجد بيانات"),1))]),_:1})]),_:1})]),_:1})]),_:1}),a(t(g),null,{default:s(()=>[a(t(c),{xl:"12"},{default:s(()=>[a(t(u),{"no-body":""},{default:s(()=>[a(y,{title:t(l)("t-withdrawals-by-status")||"طلبات السحب حسب الحالة"},null,8,["title"]),a(t(_),null,{default:s(()=>[D.value.series[0].data.length>0?(i(),x(r,{key:0,class:"apex-charts",height:"350",dir:"ltr",series:D.value.series,options:D.value.chartOptions},null,8,["series","options"])):(i(),h("p",Xt,n(t(l)("t-no-data")||"لا توجد بيانات"),1))]),_:1})]),_:1})]),_:1})]),_:1}),a(t(g),null,{default:s(()=>[a(t(c),{xl:"6"},{default:s(()=>[a(t(u),{"no-body":""},{default:s(()=>[a(y,{title:t(l)("t-recent-transactions")||"آخر المعاملات"},null,8,["title"]),a(t(_),null,{default:s(()=>[e("div",Yt,[a(t(U),{striped:"",hover:"",items:t(A),fields:[{key:"reference_id",label:t(l)("t-reference-id")},{key:"type",label:t(l)("t-type")},{key:"amount",label:t(l)("t-amount")},{key:"fee",label:t(l)("t-fee")},{key:"created_at",label:t(l)("t-date")}],class:"table-nowrap"},{"cell(reference_id)":s(({item:o})=>[e("code",te,n(o.reference_id.substring(0,8))+"...",1)]),"cell(type)":s(({item:o})=>[a(t(w),{variant:H(o.type)},{default:s(()=>[v(n(o.type),1)]),_:2},1032,["variant"])]),"cell(amount)":s(({item:o})=>[e("strong",null,n(b(o.amount))+" "+n(t(l)("t-points")),1)]),"cell(fee)":s(({item:o})=>[o.fee>0?(i(),h("span",ee,n(b(o.fee))+" "+n(t(l)("t-points")),1)):(i(),h("span",se,"-"))]),"cell(created_at)":s(({item:o})=>[v(n(B(o.created_at)),1)]),_:1},8,["items","fields"])])]),_:1})]),_:1})]),_:1}),a(t(c),{xl:"6"},{default:s(()=>[a(t(u),{"no-body":""},{default:s(()=>[a(y,{title:t(l)("t-recent-withdrawals")||"آخر طلبات السحب"},null,8,["title"]),a(t(_),null,{default:s(()=>[e("div",ae,[a(t(U),{striped:"",hover:"",items:t(G),fields:[{key:"user_name",label:t(l)("t-user")},{key:"amount",label:t(l)("t-amount")},{key:"fee",label:t(l)("t-fee")},{key:"status",label:t(l)("t-status")},{key:"created_at",label:t(l)("t-date")}],class:"table-nowrap"},{"cell(user_name)":s(({item:o})=>[e("strong",null,n(o.user_name),1)]),"cell(amount)":s(({item:o})=>[e("strong",null,n(b(o.amount))+" "+n(t(l)("t-points")),1)]),"cell(fee)":s(({item:o})=>[o.fee>0?(i(),h("span",le,n(b(o.fee))+" "+n(t(l)("t-points")),1)):(i(),h("span",ne,"-"))]),"cell(status)":s(({item:o})=>[a(t(w),{variant:E(o.status)},{default:s(()=>[v(n(o.status),1)]),_:2},1032,["variant"])]),"cell(created_at)":s(({item:o})=>[v(n(B(o.created_at)),1)]),_:1},8,["items","fields"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},be=et(oe,[["__scopeId","data-v-059b5437"]]);export{be as default};
