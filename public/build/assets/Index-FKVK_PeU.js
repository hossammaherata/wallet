import{Q as k,T as C,c as B,w as a,o as _,a as s,u as e,Z as x,G as V,m as A,j as m,h as l,k as D,f as c,t as i,q as N,s as P,p as b,d as T,Y as L,e as Y,l as E,x as g}from"./app-DcM7ay-z.js";import{L as F}from"./main-B4G14OJk.js";import{P as G}from"./page-header-DNk6vVyo.js";import{_ as $}from"./card-header-CbzQO_FG.js";import{S as p}from"./sweetalert2.all-BmpLc4DV.js";import"./simplebar-vue.esm-Dw2ZmZ-z.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-BfYujB8V.js";import"./russia-pMTSjNGF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j=c("i",{class:"ri-add-line align-middle me-1"},null,-1),z={class:"mb-3"},R={class:"text-muted"},U={class:"table-responsive"},q={class:"fw-bold"},H={key:0,class:"d-flex justify-content-center mt-3"},ae={__name:"Index",setup(I){const{stores:r,keyword:S}=k().props,d=C({page:1,keyword:S||""}),f=(o,n)=>{d.page=n||d.page,d.get(route("admin.stores.index"),{},{preserveState:!0})},h=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=o=>parseFloat(o||0).toFixed(2),y=o=>{p.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&g.delete(route("admin.stores.destroy",o),{onSuccess:()=>{p.fire("Deleted!","Store has been deleted.","success")}})})},w=(o,n)=>{const t=n==="active"?"suspended":"active";g.post(route("admin.stores.updateStatus",o),{status:t},{onSuccess:()=>{p.fire("Success!","Store status updated successfully.","success")}})};return(o,n)=>(_(),B(F,null,{default:a(()=>[s(e(x),{title:"Stores"}),s(G,{title:"Stores",pageTitle:"Stores Management"}),s(e(E),null,{default:a(()=>[s(e(V),{lg:"12"},{default:a(()=>[s(e(A),{"no-body":""},{default:a(()=>[s($,{title:"Stores List",model:e(d),SearchButton:"true",onGetResourese:f},{actions:a(()=>[s(e(m),{href:o.route("admin.stores.create"),class:"btn btn-primary"},{default:a(()=>[j,l(" Add New Store ")]),_:1},8,["href"])]),_:1},8,["model"]),s(e(D),null,{default:a(()=>[c("div",z,[c("span",R,[l("Total Stores: "),c("strong",null,i(e(r).total),1)])]),c("div",U,[s(e(N),{striped:"",hover:"",items:e(r).data,fields:[{key:"row_number",label:"#",sortable:!1},{key:"name",label:"Store Name",sortable:!0},{key:"phone",label:"Phone",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"balance",label:"Balance",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"created_at",label:"Created At",sortable:!0},{key:"actions",label:"Actions"}],class:"table-nowrap"},{"cell(row_number)":a(({index:t})=>[l(i((e(r).current_page-1)*e(r).per_page+t+1),1)]),"cell(balance)":a(({item:t})=>{var u;return[c("span",q,i(v((u=t.wallet)==null?void 0:u.balance))+" Points",1)]}),"cell(status)":a(({item:t})=>[s(e(P),{variant:t.status==="active"?"success":"danger"},{default:a(()=>[l(i(t.status==="active"?"Active":"Suspended"),1)]),_:2},1032,["variant"])]),"cell(created_at)":a(({item:t})=>[l(i(h(t.created_at)),1)]),"cell(actions)":a(({item:t})=>[s(e(m),{href:o.route("admin.stores.show",t.id),class:"btn btn-info btn-sm me-1"},{default:a(()=>[l(" View ")]),_:2},1032,["href"]),s(e(b),{variant:"warning",size:"sm",class:"me-1",onClick:u=>w(t.id,t.status)},{default:a(()=>[l(i(t.status==="active"?"Suspend":"Activate"),1)]),_:2},1032,["onClick"]),s(e(m),{href:o.route("admin.stores.edit",t.id),class:"btn btn-primary btn-sm me-1"},{default:a(()=>[l(" Edit ")]),_:2},1032,["href"]),s(e(b),{variant:"danger",size:"sm",onClick:u=>y(t.id)},{default:a(()=>[l(" Delete ")]),_:2},1032,["onClick"])]),_:1},8,["items"])]),e(r).last_page>1?(_(),T("div",H,[s(e(L),{modelValue:e(r).current_page,"onUpdate:modelValue":n[0]||(n[0]=t=>e(r).current_page=t),"total-rows":e(r).total,"per-page":e(r).per_page,onPageClick:f},null,8,["modelValue","total-rows","per-page"])])):Y("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ae as default};
