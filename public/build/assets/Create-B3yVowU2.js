import{L as C}from"./main-B236rcsx.js";import{P as $}from"./page-header-DEyyf2_K.js";import{_ as S}from"./card-header-Ct8audyA.js";import{i as U,b as B,T as N,c as V,w as s,o as c,a as t,u as e,G as T,m as D,f as o,n as u,d as y,g as L,y as g,e as E,F,h as b,t as p,A as G,k as P}from"./app-BpXjbCMW.js";import{_ as A}from"./FormSection-ARRP3li-.js";import{_}from"./InputError-jV2YQ5AJ.js";import{_ as f}from"./InputLabel-Bt9-yyqx.js";import{_ as v}from"./TextInput-CyoGix6i.js";import{S as w}from"./sweetalert2.all-BXeenfYg.js";import"./simplebar-vue.esm-Ds3EkmLx.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"mb-3"},I={class:"mb-3"},j=o("i",{class:"ri-delete-bin-line"},null,-1),q=o("i",{class:"ri-add-line me-1"},null,-1),J={class:"mb-3"},K={class:"mb-3"},M={class:"text-muted"},ie={__name:"Create",setup(O){const{t:a}=U(),r=B([""]),l=N({name:"",dates:[],total_winners:"",total_amount:""}),k=()=>{r.value.push("")},x=n=>{r.value.splice(n,1)},z=()=>{if(l.dates=r.value.filter(n=>n.trim()!==""),l.dates.length===0){w.fire({icon:"error",title:a("t-error-message"),text:a("t-must-add-at-least-one-date")});return}l.post(route("admin.prizes.store"),{preserveScroll:!0,onSuccess:()=>{w.fire({icon:"success",title:a("t-success-message"),text:a("t-prize-created")})},onError:()=>{w.fire({icon:"error",title:a("t-error-message"),text:a("t-error-adding-winner")})}})};return(n,i)=>(c(),V(C,null,{default:s(()=>[t($,{title:e(a)("t-add-new-prize"),pageTitle:e(a)("t-prizes-management"),href:n.route("admin.prizes.index")},null,8,["title","pageTitle","href"]),t(e(P),null,{default:s(()=>[t(e(T),{lg:"12"},{default:s(()=>[t(e(D),{"no-body":""},{default:s(()=>[t(S,{title:e(a)("t-add-new-prize")},null,8,["title"]),t(A,{onSubmitted:z},{form:s(()=>[o("div",H,[t(f,{for:"name",value:e(a)("t-prize-name")},null,8,["value"]),t(v,{id:"name",modelValue:e(l).name,"onUpdate:modelValue":i[0]||(i[0]=m=>e(l).name=m),type:"text",class:u(["mt-1 block w-full",{"is-invalid":e(l).errors.name}]),placeholder:e(a)("t-example")+": يوم السباق الأول"},null,8,["modelValue","class","placeholder"]),t(_,{message:e(l).errors.name,class:"mt-2"},null,8,["message"])]),o("div",I,[t(f,{value:e(a)("t-available-dates")},null,8,["value"]),(c(!0),y(F,null,L(r.value,(m,d)=>(c(),y("div",{key:d,class:"mb-2 d-flex gap-2"},[t(v,{modelValue:r.value[d],"onUpdate:modelValue":h=>r.value[d]=h,type:"date",class:u(["flex-grow-1",{"is-invalid":e(l).errors[`dates.${d}`]}])},null,8,["modelValue","onUpdate:modelValue","class"]),r.value.length>1?(c(),V(e(g),{key:0,variant:"danger",onClick:h=>x(d)},{default:s(()=>[j]),_:2},1032,["onClick"])):E("",!0)]))),128)),t(e(g),{variant:"outline-primary",onClick:k,class:"mt-2"},{default:s(()=>[q,b(" "+p(e(a)("t-add-date")),1)]),_:1}),t(_,{message:e(l).errors.dates,class:"mt-2"},null,8,["message"])]),o("div",J,[t(f,{for:"total_winners",value:e(a)("t-total-winners-count")},null,8,["value"]),t(v,{id:"total_winners",modelValue:e(l).total_winners,"onUpdate:modelValue":i[1]||(i[1]=m=>e(l).total_winners=m),type:"number",min:"1",class:u(["mt-1 block w-full",{"is-invalid":e(l).errors.total_winners}]),placeholder:e(a)("t-example")+": 4"},null,8,["modelValue","class","placeholder"]),t(_,{message:e(l).errors.total_winners,class:"mt-2"},null,8,["message"])]),o("div",K,[t(f,{for:"total_amount",value:e(a)("t-prize-amount-points")},null,8,["value"]),t(v,{id:"total_amount",modelValue:e(l).total_amount,"onUpdate:modelValue":i[2]||(i[2]=m=>e(l).total_amount=m),type:"number",step:"0.01",min:"0",class:u(["mt-1 block w-full",{"is-invalid":e(l).errors.total_amount}]),placeholder:e(a)("t-example")+": 5000"},null,8,["modelValue","class","placeholder"]),t(_,{message:e(l).errors.total_amount,class:"mt-2"},null,8,["message"]),o("small",M,p(e(a)("t-ticket-will-be-created-per-date")),1)])]),actions:s(()=>[t(e(g),{variant:"primary",type:"submit",class:u({"opacity-25":e(l).processing}),disabled:e(l).processing},{default:s(()=>[b(p(e(a)("t-save")),1)]),_:1},8,["class","disabled"]),t(e(G),{href:n.route("admin.prizes.index"),class:"btn btn-secondary ms-2"},{default:s(()=>[b(p(e(a)("t-cancel")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ie as default};
