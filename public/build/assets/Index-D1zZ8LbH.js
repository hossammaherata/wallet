import{i as D,Q as T,T as F,c as I,w as a,o as m,a as s,u as e,Z as L,G as g,m as N,A as p,h as _,t as d,v as P,k,D as U,V as A,E,H as G,y as w,B as H,I as K,f as r,l as Y,d as b,g as $,F as q,p as M,Y as Q,e as R,q as Z}from"./app-BpXjbCMW.js";import{L as j}from"./main-B236rcsx.js";import{P as J}from"./page-header-DEyyf2_K.js";import{_ as O}from"./card-header-Ct8audyA.js";import{S as z}from"./sweetalert2.all-BXeenfYg.js";import"./simplebar-vue.esm-Ds3EkmLx.js";import"./logo-dark-BbIT5rJd.js";import"./logo-light-Bc94pPwb.js";import"./us-DIspYScJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const W=r("i",{class:"ri-bar-chart-line me-1"},null,-1),X=r("i",{class:"ri-add-line me-1"},null,-1),ee=r("i",{class:"ri-search-line"},null,-1),te={value:""},ae={value:"active"},se={value:"completed"},le={value:"cancelled"},ne=r("i",{class:"ri-eye-line"},null,-1),oe=r("i",{class:"ri-edit-line"},null,-1),re=r("i",{class:"ri-delete-bin-line"},null,-1),ie={key:0,class:"mt-3"},ve={__name:"Index",setup(de){const{t}=D(),{prizes:u,filters:c}=T().props,i=F({page:1,keyword:(c==null?void 0:c.keyword)||"",status:(c==null?void 0:c.status)||""}),y=(n,o)=>{i.page=o||i.page,i.get(route("admin.prizes.index"),{},{preserveState:!0})},h=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),V=n=>parseFloat(n||0).toFixed(2),B=n=>({active:"success",completed:"info",cancelled:"danger"})[n]||"secondary",C=n=>({active:t("t-active"),completed:t("t-completed"),cancelled:t("t-cancelled")})[n]||n,S=n=>{z.fire({title:t("t-are-you-sure"),text:t("t-wont-be-able-to-revert"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t("t-yes-delete"),cancelButtonText:t("t-cancel")}).then(o=>{o.isConfirmed&&Z.delete(route("admin.prizes.destroy",n),{onSuccess:()=>{y(),z.fire(t("t-deleted"),t("t-prize-deleted"),"success")}})})},f=()=>{i.page=1,i.get(route("admin.prizes.index"),{},{preserveState:!0})};return(n,o)=>(m(),I(j,null,{default:a(()=>[s(e(L),{title:e(t)("t-prizes-management")},null,8,["title"]),s(J,{title:e(t)("t-prizes-management"),pageTitle:e(t)("t-dashboards")},null,8,["title","pageTitle"]),s(e(k),null,{default:a(()=>[s(e(g),{lg:"12"},{default:a(()=>[s(e(N),{"no-body":"",class:"mb-4"},{default:a(()=>[s(O,{title:e(t)("t-prizes-list")},{actions:a(()=>[s(e(p),{href:n.route("admin.prizes.statistics"),class:"btn btn-info me-2"},{default:a(()=>[W,_(" "+d(e(t)("t-prizes-statistics")),1)]),_:1},8,["href"]),s(e(p),{href:n.route("admin.prizes.create"),class:"btn btn-primary"},{default:a(()=>[X,_(" "+d(e(t)("t-add-new-prize")),1)]),_:1},8,["href"])]),_:1},8,["title"]),s(e(P),null,{default:a(()=>[s(e(k),{class:"mb-3"},{default:a(()=>[s(e(g),{md:"4"},{default:a(()=>[s(e(U),null,{default:a(()=>[s(e(A),{modelValue:e(i).keyword,"onUpdate:modelValue":o[0]||(o[0]=l=>e(i).keyword=l),placeholder:e(t)("t-search-by-name"),onKeyup:E(f,["enter"])},null,8,["modelValue","placeholder"]),s(e(G),null,{default:a(()=>[s(e(w),{variant:"primary",onClick:f},{default:a(()=>[ee]),_:1})]),_:1})]),_:1})]),_:1}),s(e(g),{md:"3"},{default:a(()=>[H(r("select",{"onUpdate:modelValue":o[1]||(o[1]=l=>e(i).status=l),onChange:f,class:"form-select"},[r("option",te,d(e(t)("t-all-statuses")),1),r("option",ae,d(e(t)("t-active")),1),r("option",se,d(e(t)("t-completed")),1),r("option",le,d(e(t)("t-cancelled")),1)],544),[[K,e(i).status]])]),_:1})]),_:1}),s(e(Y),{items:e(u).data,fields:[{key:"id",label:"ID",sortable:!0},{key:"name",label:e(t)("t-prize-name"),sortable:!0},{key:"dates",label:e(t)("t-available-dates")},{key:"total_winners",label:e(t)("t-total-winners-count")},{key:"total_amount",label:e(t)("t-total-amount")},{key:"tickets_count",label:e(t)("t-tickets-count")},{key:"status",label:e(t)("t-prize-status")},{key:"created_at",label:e(t)("t-created-at")},{key:"actions",label:e(t)("t-actions")}],striped:"",hover:"",responsive:""},{"cell(dates)":a(({item:l})=>[(m(!0),b(q,null,$(l.dates,(v,x)=>(m(),b("span",{key:x,class:"badge bg-info me-1"},d(h(v)),1))),128))]),"cell(total_amount)":a(({item:l})=>[r("strong",null,d(V(l.total_amount))+" "+d(e(t)("t-points")),1)]),"cell(status)":a(({item:l})=>[s(e(M),{variant:B(l.status)},{default:a(()=>[_(d(C(l.status)),1)]),_:2},1032,["variant"])]),"cell(created_at)":a(({item:l})=>[_(d(h(l.created_at)),1)]),"cell(actions)":a(({item:l})=>[s(e(p),{href:n.route("admin.prizes.show",l.id),class:"btn btn-sm btn-info me-1"},{default:a(()=>[ne]),_:2},1032,["href"]),s(e(p),{href:n.route("admin.prizes.edit",l.id),class:"btn btn-sm btn-warning me-1"},{default:a(()=>[oe]),_:2},1032,["href"]),s(e(w),{variant:"danger",size:"sm",onClick:v=>S(l.id)},{default:a(()=>[re]),_:2},1032,["onClick"])]),_:1},8,["items","fields"]),e(u).last_page>1?(m(),b("div",ie,[s(e(Q),{modelValue:e(i).page,"onUpdate:modelValue":o[2]||(o[2]=l=>e(i).page=l),"total-rows":e(u).total,"per-page":e(u).per_page,onPageClick:y},null,8,["modelValue","total-rows","per-page"])])):R("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ve as default};
